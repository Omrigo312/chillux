(this.webpackJsonpchillux=this.webpackJsonpchillux||[]).push([[0],{464:function(e,t,a){},465:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),c=a(22),s=a.n(c),o=a(25),i=a(26),l=a(10),u=a.n(l),d=a(18),j=a(50),b=a(24),p=a(14),h=a(517),x=a(504),O=a(505),m=a(506),f=a(507),g=a(529),v=a(508),w=a(509),y=a(510),N=a(511),C=a(84),k=a.n(C),S=a(85),A=a.n(S),T=a(86),D=a.n(T),L=a(255),P=a.n(L).a.create({baseURL:"http://3.123.26.182/api/"}),F=a(102),I=a(526),E=function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(I.a)();Object(F.a)(this,e),this.message=t,this.severity=a,this.timeout=n,this.id=r},R=function(e,t){console.log(e);try{t(new E(e.response.data.message,"error",3e3))}catch(a){console.log(a),t(new E("Something is wrong with our servers...","error",3e3))}},V=function(e){e?P.defaults.headers.common["x-auth-token"]=e:delete P.defaults.headers.common["x-auth-token"]},q=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profileObj,r={headers:{"Content-Type":"application/json"}},c=JSON.stringify(n),e.prev=3,e.next=6,P.post("users/login",c,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),R(e.t0,a);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,a){return e.apply(this,arguments)}}(),U={authState:{isAuthenticated:!1,loading:!0,token:null,userType:null,user:null},login:null,logout:null,loadUser:null},Y=Object(r.createContext)(U),W=function(e){var t=e.children,a=Object(r.useState)(U.authState),c=Object(p.a)(a,2),s=c[0],o=c[1],i=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,n=t.userType,localStorage.setItem("token",a),localStorage.setItem("userType",n),e.next=5,j();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){o({isAuthenticated:!1,loading:!1,token:null,userType:null,user:null}),localStorage.removeItem("token"),localStorage.removeItem("userType")},j=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&V(localStorage.token),e.prev=1,e.next=4,P.get("users");case 4:t=e.sent,a=t.data,o({loading:!1,isAuthenticated:!0,token:localStorage.getItem("token"),userType:localStorage.getItem("userType"),user:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l();case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Y.Provider,{value:{authState:s,login:i,logout:l,loadUser:j},children:t})},M=a(281),H={windowWidth:window.innerWidth,setWindowWidth:null,navbarHeight:0,setNavbarHeight:null,transparentNavbar:!1,setTransparentNavbar:null,alerts:[],setAlerts:null,addAlert:null},J=Object(r.createContext)(H),G=function(e){var t=e.children,a=Object(r.useState)(H.windowWidth),c=Object(p.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(H.navbarHeight),l=Object(p.a)(i,2),u=l[0],d=l[1],j=Object(r.useState)(H.transparentNavbar),b=Object(p.a)(j,2),h=b[0],x=b[1],O=Object(r.useState)(H.alerts),m=Object(p.a)(O,2),f=m[0],g=m[1];return Object(n.jsx)(J.Provider,{value:{windowWidth:s,setWindowWidth:o,navbarHeight:u,setNavbarHeight:d,transparentNavbar:h,setTransparentNavbar:x,alerts:f,setAlerts:g,addAlert:function(e){g([].concat(Object(M.a)(f),[e])),setTimeout((function(){g((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),e.timeout)}},children:t})},B=a(256),z=a.n(B),_=a(158),$=a.n(_),K=a(146),Z=a.n(K);function X(){var e=Object(r.useContext)(Y),t=e.authState,a=e.loadUser,c=e.logout,s=Object(r.useContext)(J).navbarHeight,o=Object(r.useContext)(J).addAlert,l=Object(r.useState)(!1),C=Object(p.a)(l,2),S=C[0],T=C[1],L=Object(r.useState)(""),F=Object(p.a)(L,2),I=F[0],V=F[1],q=Object(i.g)(),U=t.user,W=U.email,M=U.firstName,H=U.lastName,G=U.externalId,B=Object(r.useState)({password:"",passwordRepeat:""}),_=Object(p.a)(B,2),K=_[0],X=_[1],Q=Object(r.useState)({firstNameForm:M||"",lastNameForm:H||""}),ee=Object(p.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(!1),re=Object(p.a)(ne,2),ce=re[0],se=re[1],oe=Object(r.useState)(!1),ie=Object(p.a)(oe,2),le=ie[0],ue=ie[1],de=Object(r.useState)(""),je=Object(p.a)(de,2),be=je[0],pe=je[1],he=Object(r.useState)(!1),xe=Object(p.a)(he,2),Oe=xe[0],me=xe[1],fe=Object(r.useState)(!1),ge=Object(p.a)(fe,2),ve=ge[0],we=ge[1],ye=K.password,Ne=K.passwordRepeat,Ce=te.firstNameForm,ke=te.lastNameForm,Se=function(e){X(Object(b.a)(Object(b.a)({},K),{},Object(j.a)({},e.target.name,e.target.value)))},Ae=function(e){ae(Object(b.a)(Object(b.a)({},te),{},Object(j.a)({},e.target.name,e.target.value)))},Te=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json"}},a=JSON.stringify({password:I}),e.prev=2,e.next=5,P.post("users/confirm-password",a,t);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(e.t0),me(!0),e.abrupt("return",o(new E("Password is incorrect","error",3e3)));case 12:e.t1=be,e.next="name"===e.t1?15:"password"===e.t1?16:"delete"===e.t1?17:18;break;case 15:return e.abrupt("return",Le());case 16:return e.abrupt("return",Pe());case 17:return e.abrupt("return",De());case 18:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.delete("users");case 3:c(),q.push("/"),o(new E("Account Deleted","success",5e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),R(e.t0,o);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json"}},n=te.firstNameForm,r=te.lastNameForm,c=JSON.stringify({firstName:n,lastName:r}),e.prev=3,e.next=6,P.put("users/name",c,t);case 6:a(),q.push("/vacations"),o(new E("Name updated!","success",5e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),R(e.t0,o);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json"}},n=JSON.stringify(K),e.prev=2,e.next=5,P.put("users/password",n,t);case 5:a(),q.push("/vacations"),o(new E("Password updated!","success",5e3)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),R(e.t0,o);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),pe("name"),Ee(),T(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ye===Ne){e.next=3;break}return e.abrupt("return",o(new E("Passwords do not match!","error",3e3)));case 3:pe("password"),Ee(),T(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){we(!1),me(!1),V("")},Re=ye.length>0?"5px":"1.5rem",Ve=ve?"PERMANENTLY DELETE ACCOUNT":"Password Required",qe=ve?"You are about to permanently remove your account! Insert your password to confirm.":"In order to confirm the changes, please insert your password.",Ue=ve?"secondary":"primary",Ye=ve?"Delete Account":"Confirm",We=ye!==Ne?"Passwords do not match!":"";return Object(n.jsxs)("div",{className:"account",style:{marginBottom:"30px",marginTop:"".concat(s+10,"px")},children:[G?Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("h1",{children:"You Are Logged In Using Google"}),Object(n.jsxs)(f.a,{className:"google-card",children:[Object(n.jsx)("h2",{children:"Google Credentials:"}),Object(n.jsx)("h3",{children:"Email:"}),Object(n.jsx)("em",{children:W}),Object(n.jsx)("h3",{children:"Full Name:"}),Object(n.jsxs)("em",{children:[M," ",H]})]})]}):Object(n.jsxs)(r.Fragment,{children:[M&&H?Object(n.jsx)("h1",{children:"".concat(M," ").concat(H)}):Object(n.jsx)("h1",{children:W}),Object(n.jsxs)("form",{className:"form",autoComplete:"on",onSubmit:Fe,method:"post",children:[Object(n.jsx)("h2",{className:"form-header-small",children:"Add \\ Update Your Name"}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(z.a,{style:{marginRight:"0.5rem"}}),Object(n.jsxs)("div",{className:"form-duo",style:{width:"100%"},children:[Object(n.jsx)(h.a,{type:"text",required:!0,value:Ce,label:"First name",variant:"outlined",placeholder:"Add your first name",name:"firstNameForm",onChange:Ae,inputProps:{maxLength:25}}),Object(n.jsx)(h.a,{type:"text",required:!0,value:ke,label:"Last name",variant:"outlined",placeholder:"Add your last name",name:"lastNameForm",onChange:Ae,inputProps:{maxLength:25}})]})]}),Object(n.jsx)(x.a,{className:"form-button login-button",variant:"contained",color:"primary",type:"submit",children:"Update Name"})]}),Object(n.jsxs)("form",{className:"form",autoComplete:"on",onSubmit:Ie,method:"post",children:[Object(n.jsx)("h2",{className:"form-header-small",children:"Change Your Password"}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(k.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:ce?"text":"password",value:ye,required:!0,label:"New password",variant:"outlined",autoComplete:"new-password",placeholder:"Choose a new password...",name:"password",error:ye.length<6&&ye.length>0,onChange:Se,InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:Object(n.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return se(!ce)},children:ce?Object(n.jsx)(A.a,{}):Object(n.jsx)(D.a,{})})}),inputProps:{minLength:6,maxLength:30}}})]}),ye.length>0&&Object(n.jsx)(Z.a,{minLength:6,password:ye}),Object(n.jsxs)("div",{className:"input-field-icon",style:{marginTop:Re},children:[Object(n.jsx)(k.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:le?"text":"password",value:Ne,required:!0,label:"Repeat new password",variant:"outlined",placeholder:"Repeat your new password",name:"passwordRepeat",error:ye!==Ne,onChange:Se,helperText:We,InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:Object(n.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return ue(!le)},children:le?Object(n.jsx)(A.a,{}):Object(n.jsx)(D.a,{})})}),inputProps:{maxLength:30}}})]}),Object(n.jsx)(x.a,{className:"form-button login-button",variant:"contained",color:"primary",type:"submit",children:"Change password"})]})]}),Object(n.jsx)(x.a,{className:"form-button delete-account",variant:"contained",color:"primary",startIcon:Object(n.jsx)($.a,{}),endIcon:Object(n.jsx)($.a,{}),onClick:function(){Ee(),T(!0),we(!0),pe("delete")},children:"Delete Account"}),Object(n.jsxs)(g.a,{open:S,onClose:function(){return T(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(v.a,{id:"form-dialog-title",children:Ve}),Object(n.jsxs)(w.a,{children:[Object(n.jsx)(y.a,{children:qe}),Object(n.jsx)(h.a,{autoFocus:!0,required:!0,margin:"dense",value:I,error:Oe,onChange:function(e){V(e.target.value)},label:"Current Password",type:"password",fullWidth:!0})]}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(x.a,{onClick:function(){return T(!1)},color:"primary",children:"Cancel"}),Object(n.jsxs)(x.a,{onClick:Te,color:Ue,children:[Ye,ve&&Object(n.jsx)($.a,{style:{color:"red"}})]})]})]})]})}var Q=a(151),ee=a.n(Q),te=a(152),ae=a.n(te),ne=function e(t,a){Object(F.a)(this,e),this.token=t,this.userType=a},re=a.p+"static/media/logo-circle-transparent.74b90e8b.png",ce=a.p+"static/media/landing-background.60d98e08.jpg",se=function(){var e=document.querySelector(".island-background-auth");e.classList.add("bg-loading");var t=document.createElement("img");t.src=ce,t.addEventListener("load",(function(a){e.classList.remove("bg-loading"),e.classList.add("bg-loaded"),t=null}))};function oe(){var e=Object(r.useState)({email:"",password:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),l=Object(p.a)(s,2),f=l[0],g=l[1],v=Object(r.useContext)(Y),w=v.authState,y=v.login,N=Object(r.useContext)(J).addAlert,C=a.email,S=a.password;Object(r.useEffect)((function(){se()}),[]);var T=function(e){c(Object(b.a)(Object(b.a)({},a),{},Object(j.a)({},e.target.name,e.target.value)))},L=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,N);case 2:a=e.sent,y(new ne(a.data.token,a.data.userType));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={headers:{"Content-Type":"application/json"}},r=JSON.stringify(a),e.prev=3,e.next=6,P.post("users/login",r,n);case 6:c=e.sent,y(new ne(c.data.token,c.data.userType)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),R(e.t0,N);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return w.isAuthenticated?Object(n.jsx)(i.a,{to:"/vacations"}):Object(n.jsx)("div",{className:"island-background-auth",children:Object(n.jsxs)("form",{className:"form",autoComplete:"on",onSubmit:F,method:"post",children:[Object(n.jsxs)(o.b,{className:"logo-container",to:"/",children:[Object(n.jsx)("img",{src:re,className:"logo",alt:"logo"}),Object(n.jsxs)("div",{className:"logo-text",children:[Object(n.jsx)("h2",{children:"Chillux"}),Object(n.jsx)("p",{children:"Luxury Vacations"})]})]}),Object(n.jsx)("h2",{className:"form-header",children:"Log In"}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(ae.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:"email",value:C,required:!0,label:"Email",variant:"outlined",placeholder:"Your Email...",name:"email",onChange:T})]}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(k.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:f?"text":"password",required:!0,value:S,label:"Password",variant:"outlined",placeholder:"Your Password...",name:"password",autoComplete:"current-password",onChange:T,InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:Object(n.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return g(!f)},children:f?Object(n.jsx)(A.a,{}):Object(n.jsx)(D.a,{})})}),inputProps:{maxLength:30}}})]}),Object(n.jsx)(x.a,{className:"form-button login-button",variant:"contained",color:"primary",type:"submit",children:"Login"}),Object(n.jsx)(ee.a,{className:"form-button google-button",clientId:"1333376791-188hppfhtekbpieohomh2j1a2tsrv3ip.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:L,onFailure:function(e){console.log(e),N(new E("Failed to log in with Google","error",3e3))},cookiePolicy:"single_host_origin"}),Object(n.jsxs)("p",{className:"form-footer",children:["Not a member? ",Object(n.jsx)(o.b,{to:"/register",children:"Sign up now!"})]})]})})}var ie=a(282),le=a(512);function ue(e){var t=e.component,a=Object(ie.a)(e,["component"]),c=Object(r.useContext)(Y).authState;return Object(n.jsx)(i.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return c.loading?Object(n.jsx)(le.a,{}):c.isAuthenticated?Object(n.jsx)(t,Object(b.a)({},e)):Object(n.jsx)(i.a,{to:"/login"})}}))}function de(){var e=Object(r.useContext)(Y),t=e.authState,a=e.login,c=Object(r.useContext)(J).addAlert,s=Object(r.useState)({email:"",password:"",passwordRepeat:""}),l=Object(p.a)(s,2),f=l[0],g=l[1],v=Object(r.useState)(!1),w=Object(p.a)(v,2),y=w[0],N=w[1],C=Object(r.useState)(!1),S=Object(p.a)(C,2),T=S[0],L=S[1],F=Object(i.g)(),I=f.email,V=f.password,U=f.passwordRepeat;Object(r.useEffect)((function(){se()}),[]);var W=function(e){g(Object(b.a)(Object(b.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))},M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,c);case 2:n=e.sent,a(new ne(n.data.token,n.data.userType));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),V===U){e.next=3;break}return e.abrupt("return",c(new E("Passwords do not match!","error",3e3)));case 3:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify(f),e.prev=5,e.next=8,P.post("users",n,a);case 8:F.push("/register-success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),R(e.t0,c);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();if(t.isAuthenticated)return Object(n.jsx)(i.a,{to:"/vacations"});var G=V.length>0?"5px":"1.5rem",B=V!==U?"Passwords do not match!":"";return Object(n.jsx)("div",{className:"island-background-auth",children:Object(n.jsxs)("form",{className:"form",autoComplete:"on",onSubmit:H,method:"post",children:[Object(n.jsxs)(o.b,{className:"logo-container",to:"/",children:[Object(n.jsx)("img",{src:re,className:"logo",alt:"logo"}),Object(n.jsxs)("div",{className:"logo-text",children:[Object(n.jsx)("h2",{children:"Chillux"}),Object(n.jsx)("p",{children:"Luxury Vacations"})]})]}),Object(n.jsx)("h2",{className:"form-header",children:"Create Account"}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(ae.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:"email",value:I,required:!0,label:"Email",variant:"outlined",placeholder:"Your Email...",name:"email",onChange:W})]}),Object(n.jsxs)("div",{className:"input-field-icon",children:[Object(n.jsx)(k.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:y?"text":"password",required:!0,value:V,label:"Password",error:V.length<6&&V.length>0,variant:"outlined",placeholder:"New Password...",name:"password",autoComplete:"new-password",onChange:W,InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:Object(n.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return N(!y)},children:y?Object(n.jsx)(A.a,{}):Object(n.jsx)(D.a,{})})}),inputProps:{minLength:6,maxLength:30}}})]}),V.length>0&&Object(n.jsx)(Z.a,{minLength:6,password:V}),Object(n.jsxs)("div",{className:"input-field-icon",style:{marginTop:G},children:[Object(n.jsx)(k.a,{style:{marginRight:"0.5rem"}}),Object(n.jsx)(h.a,{style:{width:"100%"},type:T?"text":"password",required:!0,value:U,label:"Repeat Password",error:V!==U,variant:"outlined",placeholder:"Repeat your password",name:"passwordRepeat",onChange:W,helperText:B,InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:Object(n.jsx)(m.a,{"aria-label":"toggle password visibility",onClick:function(){return L(!T)},children:T?Object(n.jsx)(A.a,{}):Object(n.jsx)(D.a,{})})}),inputProps:{maxLength:30}}})]}),Object(n.jsx)(x.a,{className:"form-button register-button",variant:"contained",color:"primary",type:"submit",children:"Sign Up"}),Object(n.jsx)(ee.a,{className:"form-button google-button",clientId:"1333376791-188hppfhtekbpieohomh2j1a2tsrv3ip.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:M,onFailure:function(e){console.log(e),c(new E("Failed to log in with Google","error",3e3))},cookiePolicy:"single_host_origin"}),Object(n.jsxs)("p",{className:"form-footer",children:["Already have an account? ",Object(n.jsx)(o.b,{to:"/login",children:"Sign in"})]})]})})}function je(){return Object(r.useEffect)((function(){se()}),[]),Object(n.jsx)("div",{className:"island-background-auth",children:Object(n.jsxs)(f.a,{className:"register-success",children:[Object(n.jsx)("h2",{children:"Success!"}),Object(n.jsx)("p",{children:"Congratulations, your account has been successfully created. "}),Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)(x.a,{color:"primary",variant:"contained",children:"Login"})})]})})}var be=a(525);function pe(){var e=Object(r.useContext)(J),t=e.alerts,a=e.navbarHeight;return Object(n.jsx)("section",{className:"alerts-box",style:{marginTop:"".concat(a+10,"px")},children:null!==t&&t.length>0&&t.map((function(e){return Object(n.jsx)(be.a,{className:"alert",severity:e.severity,children:e.message},e.id)}))})}function he(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(J).setTransparentNavbar,l=Object(r.useContext)(Y).authState,u=function(){c(!1),s(!0)};Object(r.useEffect)((function(){var e=document.getElementById("video");return e.addEventListener("loadeddata",u,!1),s(!1),function(){e.removeEventListener("loadeddata",u,!1)}}),[]);var d=a?"white":null;return Object(n.jsx)(G,{children:Object(n.jsxs)("div",{className:"showcase",style:{height:"100vh"},children:[Object(n.jsx)("video",{id:"video",src:"https://drive.google.com/uc?export=download&id=135XjCsDqFeniYO9goOoeexaZERYWvGZW",loop:!0,muted:!0,autoPlay:!0,preload:"auto"}),Object(n.jsx)("div",{className:"overlay",style:{background:d}}),l.isAuthenticated?Object(n.jsx)(i.a,{to:"/vacations"}):Object(n.jsx)("div",{className:"landing",children:a?Object(n.jsx)(le.a,{style:{justifySelf:"center"}}):Object(n.jsxs)(r.Fragment,{children:[Object(n.jsxs)("div",{className:"landing-header",children:[Object(n.jsx)("h2",{children:"Chillux"}),Object(n.jsx)("p",{children:" Find your perfect vacation. Treat yourself better. Chillux."})]}),Object(n.jsxs)("div",{className:"landing-buttons",children:[Object(n.jsx)(o.b,{to:"/login",children:Object(n.jsx)(x.a,{className:"login-button",variant:"contained",color:"primary",children:"Login"})}),Object(n.jsx)(o.b,{to:"/register",children:Object(n.jsx)(x.a,{className:"register-button",variant:"contained",color:"primary",children:"Register"})})]})]})})]})})}var xe=a(521),Oe=a(527),me=a(513),fe=a(514),ge=a(515),ve=a(183),we=a.n(ve),ye=a(182),Ne=a.n(ye),Ce=function e(t,a,n){Object(F.a)(this,e),this.to=t,this.text=a,this.icon=n};function ke(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(Y),l=s.authState,u=s.logout,d=Object(r.useContext)(J),j=d.setWindowWidth,b=d.setNavbarHeight,h=d.setTransparentNavbar,O=d.transparentNavbar,m=Object(i.h)(),f=Object(i.g)(),g=Object(r.useRef)(null),v=Object(r.useState)(m.pathname),w=Object(p.a)(v,2),y=w[0],N=w[1],C=function(){f.push("/login"),u()};Object(r.useEffect)((function(){N(m.pathname),"/"===m.pathname?h(!0):h(!1)}),[m.pathname,h]),Object(r.useEffect)((function(){window.addEventListener("resize",(function(e){return j(e.target.innerWidth)}))}));var k=g.current?g.current.clientHeight:0;Object(r.useEffect)((function(){a&&b(k)}),[a,b,k]);var S=[new Ce("/vacations","All Offers"),new Ce("/account","Account",Object(n.jsx)(Ne.a,{}))],A=[new Ce("/vacations","All Offers"),new Ce("/register","Register"),new Ce("/login","Login")],T=[new Ce("/vacations","All Offers"),new Ce("/analytics","Analytics"),new Ce("/add-vacation","Add vacation"),new Ce("/account","Account",Object(n.jsx)(Ne.a,{}))],D=function(e){return Object(n.jsx)(r.Fragment,{children:e.map((function(e,t){var a=e.to,c=e.text,s=y===a?"rgb(90, 90, 90)":"white";return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(xe.a,{children:Object(n.jsx)(o.b,{to:a,children:Object(n.jsxs)(x.a,{style:{color:s},children:[e.icon,e.icon?Object(n.jsx)(Oe.a,{smDown:!0,children:c}):Object(n.jsx)(r.Fragment,{children:c})]})})}),Object(n.jsx)(me.a,{light:!0,orientation:"vertical",flexItem:!0})]},t)}))})},L=Object(n.jsxs)(r.Fragment,{children:[D(S),Object(n.jsx)(xe.a,{children:Object(n.jsxs)(x.a,{name:"logout",onClick:C,children:[Object(n.jsx)(we.a,{}),Object(n.jsx)(Oe.a,{smDown:!0,children:"Logout"})]})})]}),P=Object(n.jsx)(r.Fragment,{children:D(A)}),F=Object(n.jsxs)(r.Fragment,{children:[D(T),Object(n.jsx)(xe.a,{children:Object(n.jsxs)(x.a,{name:"logout",onClick:C,children:[Object(n.jsx)(we.a,{}),Object(n.jsx)(Oe.a,{smDown:!0,children:"Logout"})]})})]});Object(r.useEffect)((function(){c(!["/login","/register","/register-success"].includes(m.pathname))}),[m.pathname]);var I="/"===m.pathname?"none":null,E=O?"":"linear-gradient(to left, rgba(106, 212, 238, 0.85), rgba(2, 52, 75, 0.95))";return Object(n.jsx)(r.Fragment,{children:a&&Object(n.jsx)(fe.a,{position:"fixed",color:"transparent",ref:g,style:{boxShadow:I},children:Object(n.jsxs)(ge.a,{className:"navbar",style:{padding:0,background:E},children:[Object(n.jsx)(Oe.a,{smDown:!0,children:Object(n.jsxs)(o.b,{className:"logo-container",to:"/",children:[Object(n.jsx)("img",{src:re,className:"logo",alt:"logo"}),Object(n.jsxs)("div",{className:"logo-text",children:[Object(n.jsx)("h2",{children:"Chillux"}),Object(n.jsx)("p",{children:"Luxury Vacations"})]})]})}),Object(n.jsx)(xe.a,{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",className:"navbar-content",m:1,p:1,children:l.isAuthenticated?"ADMIN"===l.userType?F:L:P})]})})})}var Se=a(280),Ae=a(34),Te=a(518);function De(e){var t=e.vacationData,a=e.header,c=e.serverRequest,s=Object(r.useState)(t),o=Object(p.a)(s,2),i=o[0],l=o[1],m=Object(r.useContext)(J),f=m.navbarHeight,g=m.addAlert,v=Object(r.useContext)(Y).authState;Object(r.useEffect)((function(){l(t)}),[t]);var w=function(e){l(Object(b.a)(Object(b.a)({},i),{},Object(j.a)({},e.target.name,e.target.value)))},y=function(){return D&&isNaN(D.getTime())?[!1,"Invalid date input"]:D&&D.getFullYear()>=(new Date).getFullYear()+6?[!1,"Choose a year earlier than ".concat((new Date).getFullYear()+6)]:D&&D<new Date?[!1,"Start date cannot be before today"]:[!0]},N=function(){return L&&isNaN(L.getTime())?[!1,"Invalid date input"]:L&&L<D?[!1,"End date must be before start date"]:[!0]},C=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y()[0]){e.next=3;break}return e.abrupt("return",g(new E(y()[1],"warning",3e3)));case 3:if(N()[0]){e.next=5;break}return e.abrupt("return",g(new E(N()[1],"warning",3e3)));case 5:if(window.confirm("Do you confirm these changes?")){e.next=7;break}return e.abrupt("return");case 7:a={headers:{"Content-Type":"application/json"}},n=JSON.stringify(i),c(n,a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=i.destination,S=i.description,A=i.imageUrl,T=i.price,D=i.startDate,L=i.endDate;return Object(n.jsx)("div",{className:"add-vacation",style:{marginTop:"".concat(f+15,"px")},children:"ADMIN"!==v.userType?Object(n.jsx)("h2",{children:"You are not authorized to do that"}):Object(n.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:C,method:"post",children:[Object(n.jsx)("h2",{className:"form-header",children:a}),Object(n.jsxs)("div",{className:"form-duo",children:[Object(n.jsx)(h.a,{type:"text",value:k,required:!0,className:"input-field",label:"Destination",variant:"outlined",name:"destination",onChange:w,inputProps:{maxLength:20}}),Object(n.jsx)(h.a,{required:!0,type:"text",value:T,className:"input-field",label:"Price",variant:"outlined",name:"price",InputProps:{endAdornment:Object(n.jsx)(O.a,{position:"end",children:"$"})},onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&t.length<=5&&l(Object(b.a)(Object(b.a)({},i),{},{price:t}))}})]}),Object(n.jsx)(h.a,{type:"text",required:!0,value:S,className:"input-field",label:"Description",multiline:!0,rows:8,error:S.length<10&&S.length>0,helperText:S.length<10&&S.length>0&&"Too short (<10)",variant:"outlined",name:"description",onChange:w,inputProps:{minLength:10,maxLength:2e3}}),Object(n.jsx)(h.a,{type:"text",value:A,className:"input-field",label:"Image URL",variant:"outlined",name:"imageUrl",onChange:w}),Object(n.jsx)("div",{className:"form-duo",children:Object(n.jsxs)(Ae.a,{utils:Se.a,children:[Object(n.jsx)(Te.a,{required:!0,disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:"Start date",placeholder:"dd/mm/yyyy",value:D,onChange:function(e){l(Object(b.a)(Object(b.a)({},i),{},{startDate:e}))},KeyboardButtonProps:{"aria-label":"change date"},error:!y()[0],helperText:!y()[0]&&y()[1]}),Object(n.jsx)(Te.a,{required:!0,disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",label:"End date",placeholder:"dd/mm/yyyy",value:L,onChange:function(e){l(Object(b.a)(Object(b.a)({},i),{},{endDate:e}))},KeyboardButtonProps:{"aria-label":"change date"},error:!N()[0],helperText:!N()[0]&&N()[1]})]})}),Object(n.jsx)(x.a,{className:"form-button login-button",variant:"contained",color:"primary",type:"submit",children:a})]})})}function Le(){var e=Object(r.useContext)(J).addAlert,t=Object(i.g)(),a=function(){var a=Object(d.a)(u.a.mark((function a(n,r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P.post("vacations",n,r);case 3:e(new E("Vacation added","success",5e3)),t.push("/vacations"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),R(a.t0,e);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}();return Object(n.jsx)(De,{vacationData:{destination:"",description:"",imageUrl:"",price:"",startDate:"",endDate:""},serverRequest:a,header:"Create Vacation"})}var Pe={vacations:[],setVacations:null,followedVacations:[],setFollowedVacations:null,resetVacationsState:null},Fe=Object(r.createContext)(Pe),Ie=function(e){var t=e.children,a=Object(r.useState)(Pe.vacations),c=Object(p.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(Pe.followedVacations),l=Object(p.a)(i,2),u=l[0],d=l[1];return Object(n.jsx)(Fe.Provider,{value:{vacations:s,setVacations:o,followedVacations:u,setFollowedVacations:d,resetVacationsState:function(){o(Pe.vacations),d(Pe.followedVacations)}},children:t})},Ee=a(265),Re=a.n(Ee),Ve=a(516),qe=a(531),Ue=a(264),Ye=a.n(Ue),We=a(263),Me=a.n(We),He=a(262),Je=a.n(He),Ge=a(261),Be=a.n(Ge),ze=a.p+"static/media/logo-no-image.7e4c4c46.png";function _e(e){var t=e.vacation,a=e.index,c=Object(r.useState)(!1),s=Object(p.a)(c,2),l=s[0],j=s[1],b=Object(r.useContext)(J).addAlert,h=Object(r.useContext)(Y).authState,O=Object(r.useContext)(Fe),C=O.setVacations,k=O.followedVacations,S=Object(i.g)(),A=t.id,T=t.description,D=t.destination,L=t.imageUrl,F=t.price,I=t.followers,E=t.startDate,V=t.endDate,q=Object(r.useState)(k.includes(A)),U=Object(p.a)(q,2),W=U[0],M=U[1],H=Object(r.useState)(I),G=Object(p.a)(H,2),B=G[0],z=G[1],_=new Date(E),$=new Date(V),K=L.length?L:ze,Z=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.isAuthenticated){e.next=2;break}return e.abrupt("return",j(!0));case 2:return t={headers:{"Content-Type":"application/json"}},a=JSON.stringify({vacationId:A}),e.prev=4,e.next=7,P.post("followed-vacations",a,t);case 7:n=e.sent,r=n.data.updatedFollowers,z(r),M(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),R(e.t0,b);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.isAuthenticated){e.next=2;break}return e.abrupt("return",j(!0));case 2:return e.prev=2,e.next=5,P.delete("followed-vacations/".concat(A));case 5:t=e.sent,a=t.data.updatedFollowers,z(a),M(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),R(e.t0,b);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to permanently remove this vacation?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,P.delete("vacations/".concat(A));case 5:t=e.sent,C(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),R(e.t0,b);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),ee=a%2===0?"vacation-card enter-right":" vacation-card enter-left";return Object(n.jsxs)(f.a,{className:ee,children:[Object(n.jsxs)(Ve.a,{container:!0,style:{height:"100%"},children:[Object(n.jsx)(Ve.a,{item:!0,xs:5,style:{height:"100%"},children:Object(n.jsx)("div",{style:{background:"url(".concat(K,") no-repeat center center/cover"),height:"100%"}})}),Object(n.jsx)(Ve.a,{item:!0,xs:7,style:{alignSelf:"center",height:"90%"},children:Object(n.jsxs)("div",{className:"vacation-card-text",children:[Object(n.jsxs)("div",{className:"vacation-card-top",children:[Object(n.jsxs)("p",{children:[F,"$"]}),Object(n.jsxs)("div",{className:"vacation-card-header",children:[Object(n.jsx)("h2",{children:D}),Object(n.jsxs)("p",{className:"vacation-card-date",children:[function(e,t){var a=Math.abs(t.getTime()-e.getTime());return Math.ceil(a/864e5)}(_,$)," days, ",_.toLocaleDateString("en-GB")," -"," ",$.toLocaleDateString("en-GB")]})]}),"ADMIN"===h.userType?Object(n.jsxs)("div",{className:"vacation-card-star",children:[Object(n.jsx)(qe.a,{title:"Modify",children:Object(n.jsx)(m.a,{onClick:function(){S.push("/modify-vacation/".concat(A))},className:"star-button","aria-label":"modify",children:Object(n.jsx)(Be.a,{className:"modify-icon"})})}),Object(n.jsx)(qe.a,{title:"Delete",children:Object(n.jsx)(m.a,{onClick:Q,className:"star-button","aria-label":"delete",children:Object(n.jsx)(Je.a,{className:"delete-icon"})})})]}):Object(n.jsxs)("div",{className:"vacation-card-star",children:[W?Object(n.jsx)(qe.a,{title:"Unfollow",children:Object(n.jsx)(m.a,{onClick:X,className:"star-button","aria-label":"unfollow",children:Object(n.jsx)(Me.a,{className:"star-icon-active"})})}):Object(n.jsx)(qe.a,{title:"follow",children:Object(n.jsx)(m.a,{onClick:Z,className:"star-button","aria-label":"follow",children:Object(n.jsx)(Ye.a,{className:"star-icon"})})}),Object(n.jsx)("p",{children:B})]})]}),Object(n.jsx)("div",{className:"vacation-card-mid",children:T})]})})]}),Object(n.jsxs)(g.a,{open:l,onClose:function(){return j(!1)},"aria-labelledby":"not-logged-in","aria-describedby":"must-be-logged-in",children:[Object(n.jsx)(v.a,{id:"not-logged-in",children:"You must be logged in to do that."}),Object(n.jsx)(w.a,{children:Object(n.jsxs)(y.a,{id:"must-be-logged-in",children:["Please ",Object(n.jsx)(o.b,{to:"/login",children:"log in"})," to get the best experience possible!"]})}),Object(n.jsx)(N.a,{children:Object(n.jsx)(x.a,{onClick:function(){return j(!1)},color:"primary",children:"Close"})})]})]})}function $e(){var e=Object(r.useState)(!0),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),i=o[0],l=o[1],j=Object(r.useContext)(Y).authState,b=Object(r.useContext)(Fe),x=b.vacations,m=b.setVacations,f=b.setFollowedVacations,g=b.followedVacations,v=b.resetVacationsState,w=Object(r.useContext)(J),y=w.navbarHeight,N=w.addAlert,C=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("vacations");case 3:t=e.sent,m(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R(e.t0,N);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("followed-vacations");case 3:t=e.sent,f(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R(e.t0,N);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v(),j.loading||Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.isAuthenticated){e.next=3;break}return e.next=3,k();case 3:return e.next=5,C();case 5:c(!1);case 6:case"end":return e.stop()}}),e)})))()}),[j]);var S=x.filter((function(e){return e.destination.toLowerCase().includes(i)}));return Object(n.jsxs)("div",{className:"all-vacations",style:{marginTop:"".concat(y+15,"px")},children:[Object(n.jsx)("div",{style:{justifySelf:"center",width:"80%"},children:Object(n.jsx)(h.a,{style:{width:"100%"},variant:"outlined",value:i,placeholder:"Find a vacation by destination...",label:"Search",onChange:function(e){l(e.target.value)},InputProps:{startAdornment:Object(n.jsx)(O.a,{position:"start",children:Object(n.jsx)(Re.a,{})})}})}),a||j.loading?Object(n.jsx)(le.a,{style:{justifySelf:"center"}}):S.length?S.sort((function(e,t){return+g.includes(t.id)-+g.includes(e.id)})).map((function(e,t){return Object(n.jsx)(_e,{vacation:e,index:t},e.id)})):Object(n.jsx)("h1",{style:{justifySelf:"center"},children:"No Vacations Found!"})]})}function Ke(){var e=Object(r.useState)({destination:"",description:"",imageUrl:"",price:"",startDate:null,endDate:null}),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(J).addAlert,o=Object(i.i)(),l=Object(o).id,j=Object(i.g)(),b=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("vacations/".concat(l));case 3:if((t=e.sent).data){e.next=6;break}return e.abrupt("return",s(new E("No vacation with id ".concat(l),"warning",3e3)));case 6:(a=t.data).startDate=new Date(a.startDate),a.endDate=new Date(a.endDate),c(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),R(e.t0,s);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){b()}),[]);var h=function(){var e=Object(d.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.put("vacations/".concat(l),t,a);case 3:s(new E("Vacation modified","success",5e3)),j.push("/vacations"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R(e.t0,s);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.jsx)(De,{vacationData:a,serverRequest:h,header:"Modify Vacation"})}var Ze=a(522),Xe=a(530),Qe=a(533),et=a(523);function tt(){var e=Object(r.useContext)(J),t=e.navbarHeight,a=e.addAlert,c=Object(r.useContext)(Y).authState,s=Object(r.useContext)(Fe),o=s.setVacations,i=s.vacations;Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get("vacations");case 3:t=e.sent,o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R(e.t0,a);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[a,o]);var l=i.filter((function(e){return 0!==e.followers})).map((function(e,t){return{destination:e.destination,followers:e.followers,id:e.id,index:t+1}}));return Object(n.jsx)("div",{className:"analytics",style:{marginTop:"".concat(t+15,"px")},children:"ADMIN"!==c.userType?Object(n.jsx)("h1",{children:"You are not authorized to do that"}):Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("h2",{children:"Analytics:"}),Object(n.jsxs)(Ze.a,{theme:Xe.a.material,domainPadding:20,children:[Object(n.jsx)(Qe.a,{label:"Vacation",style:{tickLabels:{fontSize:8,padding:5},axisLabel:{padding:25}},tickFormat:l.map((function(e){return e.destination}))}),Object(n.jsx)(Qe.a,{label:"Followers",style:{tickLabels:{fontSize:10,padding:5},axisLabel:{padding:30}},dependentAxis:!0}),Object(n.jsx)(et.a,{data:l,style:{labels:{fontSize:8,padding:2}},labels:l.map((function(e){return"ID: ".concat(e.id)})),x:"index",y:"followers"})]})]})})}var at=a(279),nt=a.n(at);function rt(){var e=Object(r.useContext)(Y),t=e.logout,a=e.loadUser,c=Object(r.useContext)(Fe).setVacations;return Object(r.useEffect)((function(){var e=nt.a.connect("http://3.123.26.182:8080",{query:{token:localStorage.getItem("token")}});e.on("new-vacation",(function(e){c(e)})),e.on("connect_error",(function(e){console.error(e.message)})),localStorage.token&&V(localStorage.token),a(),window.addEventListener("storage",(function(){localStorage.token||t()}))}),[]),Object(n.jsxs)(o.a,{children:[Object(n.jsx)(ke,{}),Object(n.jsx)(pe,{}),Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{exact:!0,path:"/",component:he}),Object(n.jsx)(i.b,{exact:!0,path:"/register",component:de}),Object(n.jsx)(i.b,{exact:!0,path:"/register-success",component:je}),Object(n.jsx)(i.b,{exact:!0,path:"/login",component:oe}),Object(n.jsx)(i.b,{exact:!0,path:"/vacations",component:$e}),Object(n.jsx)(ue,{exact:!0,path:"/add-vacation",component:Le}),Object(n.jsx)(ue,{path:"/modify-vacation/:id",component:Ke}),Object(n.jsx)(ue,{exact:!0,path:"/account",component:X}),Object(n.jsx)(ue,{exact:!0,path:"/analytics",component:tt})]})]})}a(464);s.a.render(Object(n.jsx)(W,{children:Object(n.jsx)(G,{children:Object(n.jsx)(Ie,{children:Object(n.jsx)(rt,{})})})}),document.getElementById("root"))}},[[465,1,2]]]);
//# sourceMappingURL=main.d3fde9a1.chunk.js.map
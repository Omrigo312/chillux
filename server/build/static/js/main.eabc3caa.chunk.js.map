{"version":3,"sources":["utils/axiosConfig.ts","models/Alert.ts","utils/error.ts","utils/auth.ts","context/AuthContext.tsx","context/WindowContext.tsx","components/auth/Account.tsx","models/LoginData.ts","assets/images/logo-circle-transparent.png","assets/images/landing-background.jpg","utils/window.ts","components/auth/Login.tsx","components/auth/PrivateRoute.tsx","components/auth/Register.tsx","components/auth/RegisterSuccess.tsx","components/layout/Alerts.tsx","components/layout/Landing.tsx","models/NavbarLink.ts","components/layout/Navbar.tsx","components/admin/VacationForm.tsx","components/admin/AddVacation.tsx","context/VacationsContext.tsx","assets/images/logo-no-image.png","components/vacations/VacationCard.tsx","components/vacations/AllVacations.tsx","components/admin/ModifyVacation.tsx","components/admin/Analytics.tsx","App.tsx","index.tsx"],"names":["app","axios","create","baseURL","Alert","message","severity","timeout","id","v4","handleError","error","addAlert","console","log","response","data","err","setToken","token","defaults","headers","common","googleLogin","a","googleProfile","profileObj","config","body","JSON","stringify","post","initialState","authState","isAuthenticated","loading","userType","user","login","logout","loadUser","AuthContext","createContext","AuthProvider","children","useState","setAuthState","loginData","localStorage","setItem","removeItem","get","res","getItem","Provider","value","windowWidth","window","innerWidth","setWindowWidth","navbarHeight","setNavbarHeight","transparentNavbar","setTransparentNavbar","alerts","setAlerts","WindowContext","WindowProvider","newAlert","setTimeout","filter","alert","Account","useContext","isDialogOpen","setIsDialogOpen","currentPassword","setCurrentPassword","history","useHistory","email","firstName","lastName","externalId","password","passwordRepeat","passwordFormData","setPasswordFormData","firstNameForm","lastNameForm","nameFormData","setNameFormData","showPassword","setShowPassword","showPasswordRepeat","setShowPasswordRepeat","requestName","setRequestName","passwordIncorrect","setPasswordIncorrect","isDangerDialog","setIsDangerDialog","onPasswordFieldChange","event","target","name","onNameFieldChange","checkPassword","nameFormRequest","passwordFormRequest","deleteRequest","delete","push","put","onNameFormSubmit","preventDefault","clearFieldState","onPasswordFormSubmit","passMargin","length","dialogHeader","dialogText","confirmColor","confirmText","errorHelperText","className","style","marginBottom","marginTop","Card","autoComplete","onSubmit","method","marginRight","width","TextField","type","required","label","variant","placeholder","onChange","inputProps","maxLength","Button","color","InputProps","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","minLength","helperText","startIcon","endIcon","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","margin","fullWidth","DialogActions","LoginSuccess","fadingBackground","bgElement","document","querySelector","classList","add","preloaderImg","createElement","src","background","addEventListener","remove","Login","formData","setFormData","useEffect","onFieldChange","googleSuccessResponse","LoginData","to","logo","alt","clientId","buttonText","onSuccess","onFailure","cookiePolicy","PrivateRoute","Component","component","rest","render","props","CircularProgress","Register","RegisterSuccess","Alerts","map","Landing","isLoading","setIsLoading","onVideoLoad","videoElement","getElementById","removeEventListener","height","loop","muted","autoPlay","preload","justifySelf","NavbarLink","text","icon","Navbar","isShowNavbar","setIsShowNavbar","location","useLocation","elementRef","useRef","pathname","currentTab","setCurrentTab","onLogoutClicked","current","clientHeight","userBarLinks","guestBarLinks","adminBarLinks","createBar","links","link","index","Box","Hidden","smDown","Divider","light","orientation","flexItem","userBar","guestBar","adminBar","includes","boxShadow","AppBar","ref","Toolbar","padding","display","flexDirection","justifyContent","alignItems","m","p","VacationForm","vacationData","header","serverRequest","isStartDateValidated","startDate","isNaN","getTime","getFullYear","Date","isEndDateValidated","endDate","confirm","destination","description","imageUrl","price","test","multiline","rows","utils","DateFnsUtils","disableToolbar","format","date","KeyboardButtonProps","AddVacation","vacations","setVacations","followedVacations","setFollowedVacations","resetVacationsState","VacationsContext","VacationsProvider","VacationCard","vacation","followers","isFollowed","setIsFollowed","followersState","setFollowersState","startDateObj","endDateObj","image","noImage","onFollowButtonClicked","vacationId","updatedFollowers","onUnfollowButtonClicked","onDeleteButtonClicked","animationClass","Grid","container","item","xs","alignSelf","diffTime","Math","abs","ceil","duration","toLocaleDateString","Tooltip","title","aria-describedby","AllVacations","loadingVacations","setLoadingVacations","searchString","setSearchString","fetchVacations","fetchFollowedVacations","filteredVacations","toLowerCase","startAdornment","sort","b","ModifyVacation","setVacationData","params","useParams","Object","getVacation","Analytics","theme","VictoryTheme","material","domainPadding","tickLabels","fontSize","axisLabel","tickFormat","key","dependentAxis","labels","x","y","App","socket","io","connect","query","on","exact","path","addVacation","ReactDOM"],"mappings":"2XAIaA,E,OAAMC,EAAMC,OAAO,CAC9BC,QAEM,6B,kBCJaC,EACnB,WACSC,EACAC,EACAC,GAEN,IADMC,EACP,uDADoBC,cACpB,yBAJOJ,UAIP,KAHOC,WAGP,KAFOC,UAEP,KADOC,MCLEE,EAAc,SAACC,EAAYC,GACtCC,QAAQC,IAAIH,GACZ,IACEC,EAAS,IAAIR,EAAMO,EAAMI,SAASC,KAAKX,QAAS,QAAS,MACzD,MAAOY,GACPJ,QAAQC,IAAIG,GACZL,EAAS,IAAIR,EAAM,yCAA0C,QAAS,QCL7Dc,EAAW,SAACC,GACnBA,EACFnB,EAAIoB,SAASC,QAAQC,OAAO,gBAAkBH,SAEvCnB,EAAIoB,SAASC,QAAQC,OAAO,iBAI1BC,EAAW,uCAAG,WAAOR,EAAeH,GAAtB,mBAAAY,EAAA,6DACnBC,EAAgBV,EAASW,WAEzBC,EAAS,CACbN,QAAS,CACP,eAAgB,qBAGdO,EAAOC,KAAKC,UAAUL,GARH,kBAWVzB,EAAI+B,KAAK,cAAeH,EAAMD,GAXpB,wEAavBjB,EAAY,EAAD,GAAQE,GAbI,yDAAH,wDCQlBoB,EAA+B,CACnCC,UAAW,CAAEC,iBAAiB,EAAOC,SAAS,EAAMhB,MAAO,KAAMiB,SAAU,KAAMC,KAAM,MACvFC,MAAO,KACPC,OAAQ,KACRC,SAAU,MAGCC,EAAcC,wBAA8BV,GAE5CW,EAAe,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,SAAoB,EACfC,mBAASb,EAAaC,WADP,mBAC1CA,EAD0C,KAC/Ba,EAD+B,KAG3CR,EAAK,uCAAG,WAAOS,GAAP,iBAAAvB,EAAA,6DACJL,EAAoB4B,EAApB5B,MAAOiB,EAAaW,EAAbX,SACfY,aAAaC,QAAQ,QAAS9B,GAC9B6B,aAAaC,QAAQ,WAAYb,GAHrB,SAINI,IAJM,2CAAH,sDAOLD,EAAS,WACbO,EAAa,CAAEZ,iBAAiB,EAAOC,SAAS,EAAOhB,MAAO,KAAMiB,SAAU,KAAMC,KAAM,OAC1FW,aAAaE,WAAW,SACxBF,aAAaE,WAAW,aAGpBV,EAAQ,uCAAG,8BAAAhB,EAAA,6DACXwB,aAAa7B,OACfD,EAAS8B,aAAa7B,OAFT,kBAKKnB,EAAImD,IAAI,SALb,OAKPC,EALO,OAMPf,EAAOe,EAAIpC,KAEjB8B,EAAa,CACXX,SAAS,EACTD,iBAAiB,EACjBf,MAAO6B,aAAaK,QAAQ,SAC5BjB,SAAUY,aAAaK,QAAQ,YAC/BhB,SAbW,gDAgBbE,IAhBa,yDAAH,qDAoBd,OAAO,cAACE,EAAYa,SAAb,CAAsBC,MAAO,CAAEtB,YAAWK,QAAOC,SAAQC,YAAzD,SAAsEI,K,SClDzEZ,EAA+B,CACnCwB,YAAaC,OAAOC,WACpBC,eAAgB,KAChBC,aAAc,EACdC,gBAAiB,KACjBC,mBAAmB,EACnBC,qBAAsB,KACtBC,OAAQ,GACRC,UAAW,KACXrD,SAAU,MAGCsD,EAAgBxB,wBAA8BV,GAE9CmC,EAAiB,SAAC,GAAuB,IAArBvB,EAAoB,EAApBA,SAAoB,EACbC,mBAASb,EAAawB,aADT,mBAC5CA,EAD4C,KAC/BG,EAD+B,OAEXd,mBAASb,EAAa4B,cAFX,mBAE5CA,EAF4C,KAE9BC,EAF8B,OAGDhB,mBAASb,EAAa8B,mBAHrB,mBAG5CA,EAH4C,KAGzBC,EAHyB,OAIvBlB,mBAASb,EAAagC,QAJC,mBAI5CA,EAJ4C,KAIpCC,EAJoC,KAanD,OACE,cAACC,EAAcZ,SAAf,CACEC,MAAO,CACLC,cACAG,iBACAC,eACAC,kBACAC,oBACAC,uBACAC,SACAC,YACArD,SAlBW,SAACwD,GAChBH,EAAU,GAAD,mBAAKD,GAAL,CAAaI,KACtBC,YAAW,WACTJ,GAAU,SAACD,GAAD,OAAYA,EAAOM,QAAO,SAACC,GAAD,OAAWA,EAAM/D,KAAO4D,EAAS5D,WACpE4D,EAAS7D,WAIZ,SAaGqC,K,sDC9BQ,SAAS4B,IAAW,IAAD,EACQC,qBAAWhC,GAA3CR,EADwB,EACxBA,UAAWO,EADa,EACbA,SAAUD,EADG,EACHA,OACrBqB,EAAiBa,qBAAWP,GAA5BN,aACAhD,EAAa6D,qBAAWP,GAAxBtD,SAHwB,EAKQiC,oBAAS,GALjB,mBAKzB6B,EALyB,KAKXC,EALW,OAMc9B,mBAAS,IANvB,mBAMzB+B,EANyB,KAMRC,EANQ,KAO1BC,EAAUC,cAPgB,EASmB9C,EAAUI,KAArD2C,EATwB,EASxBA,MAAOC,EATiB,EASjBA,UAAWC,EATM,EASNA,SAAUC,EATJ,EASIA,WATJ,EAWgBtC,mBAAS,CACvDuC,SAAU,GACVC,eAAgB,KAbc,mBAWzBC,EAXyB,KAWPC,EAXO,OAeQ1C,mBAAS,CAC/C2C,cAAeP,GAAa,GAC5BQ,aAAcP,GAAY,KAjBI,oBAezBQ,GAfyB,MAeXC,GAfW,SAmBQ9C,oBAAS,GAnBjB,qBAmBzB+C,GAnByB,MAmBXC,GAnBW,SAoBoBhD,oBAAS,GApB7B,qBAoBzBiD,GApByB,MAoBLC,GApBK,SAqBMlD,mBAAS,IArBf,qBAqBzBmD,GArByB,MAqBZC,GArBY,SAsBkBpD,oBAAS,GAtB3B,qBAsBzBqD,GAtByB,MAsBNC,GAtBM,SAuBYtD,oBAAS,GAvBrB,qBAuBzBuD,GAvByB,MAuBTC,GAvBS,MAwBxBjB,GAA6BE,EAA7BF,SAAUC,GAAmBC,EAAnBD,eACVG,GAAgCE,GAAhCF,cAAeC,GAAiBC,GAAjBD,aAKjBa,GAAwB,SAACC,GAC7BhB,EAAoB,2BAAKD,GAAN,kBAAyBiB,EAAMC,OAAOC,KAAOF,EAAMC,OAAOjD,UAGzEmD,GAAoB,SAACH,GACzBZ,GAAgB,2BAAKD,IAAN,kBAAqBa,EAAMC,OAAOC,KAAOF,EAAMC,OAAOjD,UAGjEoD,GAAa,uCAAG,8BAAAnF,EAAA,6DACdG,EAAS,CACbN,QAAS,CACP,eAAgB,qBAIdO,EAAOC,KAAKC,UAAU,CAAEsD,SAAUR,IAPpB,kBAUZ5E,EAAI+B,KAAK,yBAA0BH,EAAMD,GAV7B,8DAYlBd,QAAQC,IAAR,MACAqF,IAAqB,GAbH,kBAcXvF,EAAS,IAAIR,EAAM,wBAAyB,QAAS,OAd1C,aAiBZ4F,GAjBY,OAkBb,SAlBa,QAoBb,aApBa,QAsBb,WAtBa,kDAmBTY,MAnBS,iCAqBTC,MArBS,iCAuBTC,MAvBS,yDAAH,qDAkCbA,GAAa,uCAAG,sBAAAtF,EAAA,+EAEZxB,EAAI+G,OAAO,SAFC,OAGlBxE,IACAuC,EAAQkC,KAAK,KACbpG,EAAS,IAAIR,EAAM,kBAAmB,UAAW,MAL/B,gDAOlBM,EAAY,EAAD,GAAQE,GAPD,yDAAH,qDAWbgG,GAAe,uCAAG,kCAAApF,EAAA,6DAChBG,EAAS,CACbN,QAAS,CACP,eAAgB,qBAIG4D,EAAsCS,GAArDF,cAAwCN,EAAaQ,GAA3BD,aAE5B7D,EAAOC,KAAKC,UAAU,CAAEmD,YAAWC,aATnB,kBAYdlF,EAAIiH,IAAI,aAAcrF,EAAMD,GAZd,OAapBa,IACAsC,EAAQkC,KAAK,cACbpG,EAAS,IAAIR,EAAM,gBAAiB,UAAW,MAf3B,kDAiBpBM,EAAY,EAAD,GAAQE,GAjBC,0DAAH,qDAoBfiG,GAAmB,uCAAG,8BAAArF,EAAA,6DACpBG,EAAS,CACbN,QAAS,CACP,eAAgB,qBAGdO,EAAOC,KAAKC,UAAUwD,GANF,kBASlBtF,EAAIiH,IAAI,iBAAkBrF,EAAMD,GATd,OAUxBa,IACAsC,EAAQkC,KAAK,cACbpG,EAAS,IAAIR,EAAM,oBAAqB,UAAW,MAZ3B,kDAcxBM,EAAY,EAAD,GAAQE,GAdK,0DAAH,qDAkBnBsG,GAAgB,uCAAG,WAAOX,GAAP,SAAA/E,EAAA,sDACvB+E,EAAMY,iBACNlB,GAAe,QACfmB,KACAzC,GAAgB,GAJO,2CAAH,sDAOhB0C,GAAoB,uCAAG,WAAOd,GAAP,SAAA/E,EAAA,yDAC3B+E,EAAMY,iBAEF/B,KAAaC,GAHU,yCAIlBzE,EAAS,IAAIR,EAAM,0BAA2B,QAAS,OAJrC,OAO3B6F,GAAe,YACfmB,KACAzC,GAAgB,GATW,2CAAH,sDAYpByC,GAAkB,WACtBf,IAAkB,GAClBF,IAAqB,GACrBtB,EAAmB,KAGfyC,GAAalC,GAASmC,OAAS,EAAI,MAAQ,SAC3CC,GAAepB,GAAiB,6BAA+B,oBAC/DqB,GAAarB,GACf,qFACA,gEACEsB,GAAetB,GAAiB,YAAc,UAC9CuB,GAAcvB,GAAiB,iBAAmB,UAClDwB,GAAkBxC,KAAaC,GAAiB,0BAA4B,GAElF,OACE,sBAAKwC,UAAU,UAAUC,MAAO,CAAEC,aAAc,OAAQC,UAAU,GAAD,OAAKpE,EAAe,GAApB,OAAjE,UACIuB,EAqGA,eAAC,WAAD,WACE,gEACA,eAAC8C,EAAA,EAAD,CAAMJ,UAAU,cAAhB,UACE,qDACA,wCACA,6BAAK7C,IACL,4CACA,+BACGC,EADH,IACeC,WA5GnB,eAAC,WAAD,WACGD,GAAaC,EAAW,uCAAQD,EAAR,YAAqBC,KAAmB,6BAAKF,IAEtE,uBAAM6C,UAAU,OAAOK,aAAa,KAAKC,SAAUjB,GAAkBkB,OAAO,OAA5E,UACE,oBAAIP,UAAU,oBAAd,qCACA,sBAAKA,UAAU,mBAAf,UACE,cAAC,IAAD,CAAmBC,MAAO,CAAEO,YAAa,YACzC,sBAAKR,UAAU,WAAWC,MAAO,CAAEQ,MAAO,QAA1C,UACE,cAACC,EAAA,EAAD,CACEC,KAAK,OACLC,UAAQ,EACRlF,MAAOiC,GACPkD,MAAM,aACNC,QAAQ,WACRC,YAAY,sBACZnC,KAAK,gBACLoC,SAAUnC,GACVoC,WAAY,CAAEC,UAAW,MAE3B,cAACR,EAAA,EAAD,CACEC,KAAK,OACLC,UAAQ,EACRlF,MAAOkC,GACPiD,MAAM,YACNC,QAAQ,WACRC,YAAY,qBACZnC,KAAK,eACLoC,SAAUnC,GACVoC,WAAY,CAAEC,UAAW,YAK/B,cAACC,EAAA,EAAD,CAAQnB,UAAU,2BAA2Bc,QAAQ,YAAYM,MAAM,UAAUT,KAAK,SAAtF,4BAKF,uBAAMX,UAAU,OAAOK,aAAa,KAAKC,SAAUd,GAAsBe,OAAO,OAAhF,UACE,oBAAIP,UAAU,oBAAd,kCAEA,sBAAKA,UAAU,mBAAf,UACE,cAAC,IAAD,CAAUC,MAAO,CAAEO,YAAa,YAChC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAM5C,GAAe,OAAS,WAC9BrC,MAAO6B,GACPqD,UAAQ,EACRC,MAAM,eACNC,QAAQ,WACRT,aAAa,eACbU,YAAY,2BACZnC,KAAK,WACL9F,MAAOyE,GAASmC,OAAS,GAAKnC,GAASmC,OAAS,EAChDsB,SAAUvC,GACV4C,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CAAYC,aAAW,6BAA6BC,QA7L1C,kBAAM3D,IAAiBD,KA6LjC,SACGA,GAAe,cAAC,IAAD,IAAqB,cAAC,IAAD,QAI3CkD,WAAY,CAAEW,UAAW,EAAGV,UAAW,UAI5C3D,GAASmC,OAAS,GAAK,cAAC,IAAD,CAAqBkC,UAAW,EAAGrE,SAAUA,KACrE,sBAAKyC,UAAU,mBAAmBC,MAAO,CAAEE,UAAWV,IAAtD,UACE,cAAC,IAAD,CAAUQ,MAAO,CAAEO,YAAa,YAChC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAM1C,GAAqB,OAAS,WACpCvC,MAAO8B,GACPoD,UAAQ,EACRC,MAAM,sBACNC,QAAQ,WACRC,YAAY,2BACZnC,KAAK,iBACL9F,MAAOyE,KAAaC,GACpBwD,SAAUvC,GACVoD,WAAY9B,GACZsB,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CAAYC,aAAW,6BAA6BC,QAvNpC,kBAAMzD,IAAuBD,KAuN7C,SACGA,GAAqB,cAAC,IAAD,IAAqB,cAAC,IAAD,QAIjDgD,WAAY,CAAEC,UAAW,UAI/B,cAACC,EAAA,EAAD,CAAQnB,UAAU,2BAA2Bc,QAAQ,YAAYM,MAAM,UAAUT,KAAK,SAAtF,mCAmBN,cAACQ,EAAA,EAAD,CACEnB,UAAU,6BACVc,QAAQ,YACRM,MAAM,UACNU,UAAW,cAAC,IAAD,IACXC,QAAS,cAAC,IAAD,IACTJ,QApNgB,WACpBpC,KACAzC,GAAgB,GAChB0B,IAAkB,GAClBJ,GAAe,WA0Mb,4BAUA,eAAC4D,EAAA,EAAD,CAAQC,KAAMpF,EAAcqF,QAAS,kBAAMpF,GAAgB,IAAQqF,kBAAgB,oBAAnF,UACE,cAACC,EAAA,EAAD,CAAazJ,GAAG,oBAAhB,SAAqCgH,KACrC,eAAC0C,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UAAoB1C,KACpB,cAACc,EAAA,EAAD,CACE6B,WAAS,EACT3B,UAAQ,EACR4B,OAAO,QACP9G,MAAOqB,EACPjE,MAAOuF,GACP2C,SAAU,SAACtC,GACT1B,EAAmB0B,EAAMC,OAAOjD,QAElCmF,MAAM,mBACNF,KAAK,WACL8B,WAAS,OAGb,eAACC,EAAA,EAAD,WACE,cAACvB,EAAA,EAAD,CAAQQ,QAAS,kBAAM7E,GAAgB,IAAQsE,MAAM,UAArD,oBAGA,eAACD,EAAA,EAAD,CAAQQ,QAAS7C,GAAesC,MAAOvB,GAAvC,UACGC,GACAvB,IAAkB,cAAC,IAAD,CAAa0B,MAAO,CAAEmB,MAAO,qB,4CC3UvCuB,GACnB,WAA0BrJ,EAAuBiB,GAAoB,yBAA3CjB,QAA0C,KAAnBiB,YCDpC,OAA0B,oDCA1B,OAA0B,+CCE5BqI,GAAmB,WAC9B,IAAIC,EAAYC,SAASC,cAA2B,2BACpDF,EAAUG,UAAUC,IAAI,cACxB,IAAIC,EAAeJ,SAASK,cAAc,OAC1CD,EAAaE,IAAMC,GAEnBH,EAAaI,iBAAiB,QAAQ,SAAC5E,GACrCmE,EAAUG,UAAUO,OAAO,cAC3BV,EAAUG,UAAUC,IAAI,aACxBC,EAAe,SCSJ,SAASM,KAAS,IAAD,EACExI,mBAAS,CAAEmC,MAAO,GAAII,SAAU,KADlC,mBACvBkG,EADuB,KACbC,EADa,OAEU1I,oBAAS,GAFnB,mBAEvB+C,EAFuB,KAETC,EAFS,OAGDpB,qBAAWhC,GAAhCR,EAHsB,EAGtBA,UAAWK,EAHW,EAGXA,MACX1B,EAAa6D,qBAAWP,GAAxBtD,SACAoE,EAAoBsG,EAApBtG,MAAOI,EAAakG,EAAblG,SAGfoG,qBAAU,WACRf,OACC,IAEH,IAAMgB,EAAgB,SAAClF,GACrBgF,EAAY,2BAAKD,GAAN,kBAAiB/E,EAAMC,OAAOC,KAAOF,EAAMC,OAAOjD,UAKzDmI,EAAqB,uCAAG,WAAO3K,GAAP,eAAAS,EAAA,sEACVD,EAAYR,EAAUH,GADZ,OACtBwC,EADsB,OAE5Bd,EAAM,IAAIqJ,GAAUvI,EAAIpC,KAAKG,MAAOiC,EAAIpC,KAAKoB,WAFjB,2CAAH,sDAUrB+F,EAAQ,uCAAG,WAAO5B,GAAP,mBAAA/E,EAAA,6DACf+E,EAAMY,iBAEAxF,EAAS,CACbN,QAAS,CACP,eAAgB,qBAGdO,EAAOC,KAAKC,UAAUwJ,GARb,kBAWKtL,EAAI+B,KAAK,cAAeH,EAAMD,GAXnC,OAWPyB,EAXO,OAYbd,EAAM,IAAIqJ,GAAUvI,EAAIpC,KAAKG,MAAOiC,EAAIpC,KAAKoB,WAZhC,kDAcb1B,EAAY,EAAD,GAAQE,GAdN,0DAAH,sDAkBd,OAAIqB,EAAUC,gBACL,cAAC,IAAD,CAAU0J,GAAG,eAIpB,qBAAK/D,UAAU,yBAAf,SACE,uBAAMA,UAAU,OAAOK,aAAa,KAAKC,SAAUA,EAAUC,OAAO,OAApE,UACE,eAAC,IAAD,CAAMP,UAAU,iBAAiB+D,GAAG,IAApC,UACE,qBAAKX,IAAKY,GAAMhE,UAAU,OAAOiE,IAAI,SACrC,sBAAKjE,UAAU,YAAf,UACE,yCACA,uDAGJ,oBAAIA,UAAU,cAAd,oBACA,sBAAKA,UAAU,mBAAf,UACE,cAAC,KAAD,CAAWC,MAAO,CAAEO,YAAa,YACjC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAK,QACLjF,MAAOyB,EACPyD,UAAQ,EACRC,MAAM,QACNC,QAAQ,WACRC,YAAY,gBACZnC,KAAK,QACLoC,SAAU4C,OAGd,sBAAK5D,UAAU,mBAAf,UACE,cAAC,IAAD,CAAUC,MAAO,CAAEO,YAAa,YAChC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAM5C,EAAe,OAAS,WAC9B6C,UAAQ,EACRlF,MAAO6B,EACPsD,MAAM,WACNC,QAAQ,WACRC,YAAY,mBACZnC,KAAK,WACLyB,aAAa,mBACbW,SAAU4C,EACVvC,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CAAYC,aAAW,6BAA6BC,QA3EtC,kBAAM3D,GAAiBD,IA2ErC,SACGA,EAAe,cAAC,IAAD,IAAqB,cAAC,IAAD,QAI3CkD,WAAY,CAAEC,UAAW,UAI/B,cAACC,EAAA,EAAD,CAAQnB,UAAU,2BAA2Bc,QAAQ,YAAYM,MAAM,UAAUT,KAAK,SAAtF,mBAGA,cAAC,KAAD,CACEX,UAAU,4BACVkE,SA3Ge,yEA4GfC,WAAW,uBACXC,UAAWP,EACXQ,UArFsB,SAACnL,GAC7BF,QAAQC,IAAIC,GACZH,EAAS,IAAIR,EAAM,+BAAgC,QAAS,OAoFtD+L,aAAc,uBAGhB,oBAAGtE,UAAU,cAAb,2BACgB,cAAC,IAAD,CAAM+D,GAAG,YAAT,kC,wBChIT,SAASQ,GAAT,GAA+D,IAA5BC,EAA2B,EAAtCC,UAAyBC,EAAa,8BACnEtK,EAAcwC,qBAAWhC,GAAzBR,UACR,OACE,cAAC,IAAD,2BACMsK,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNxK,EAAUE,QACR,cAACuK,GAAA,EAAD,IACEzK,EAAUC,gBACZ,cAACmK,EAAD,eAAeI,IAEf,cAAC,IAAD,CAAUb,GAAG,eCKR,SAASe,KAAY,IAAD,EACJlI,qBAAWhC,GAAhCR,EADyB,EACzBA,UAAWK,EADc,EACdA,MACX1B,EAAa6D,qBAAWP,GAAxBtD,SAFyB,EAIDiC,mBAAS,CAAEmC,MAAO,GAAII,SAAU,GAAIC,eAAgB,KAJnD,mBAI1BiG,EAJ0B,KAIhBC,EAJgB,OAKO1I,oBAAS,GALhB,mBAK1B+C,EAL0B,KAKZC,EALY,OAMmBhD,oBAAS,GAN5B,mBAM1BiD,EAN0B,KAMNC,EANM,KAQ3BjB,EAAUC,cACRC,EAAoCsG,EAApCtG,MAAOI,EAA6BkG,EAA7BlG,SAAUC,EAAmBiG,EAAnBjG,eAGzBmG,qBAAU,WACRf,OACC,IAEH,IAAMgB,EAAgB,SAAClF,GACrBgF,EAAY,2BAAKD,GAAN,kBAAiB/E,EAAMC,OAAOC,KAAOF,EAAMC,OAAOjD,UAMzDmI,EAAqB,uCAAG,WAAO3K,GAAP,eAAAS,EAAA,sEACVD,EAAYR,EAAUH,GADZ,OACtBwC,EADsB,OAE5Bd,EAAM,IAAIqJ,GAAUvI,EAAIpC,KAAKG,MAAOiC,EAAIpC,KAAKoB,WAFjB,2CAAH,sDAUrB+F,EAAQ,uCAAG,WAAO5B,GAAP,iBAAA/E,EAAA,yDACf+E,EAAMY,iBAEF/B,IAAaC,EAHF,yCAINzE,EAAS,IAAIR,EAAM,0BAA2B,QAAS,OAJjD,cAOTuB,EAAS,CACbN,QAAS,CACP,eAAgB,qBAGdO,EAAOC,KAAKC,UAAUwJ,GAZb,kBAePtL,EAAI+B,KAAK,QAASH,EAAMD,GAfjB,OAgBbmD,EAAQkC,KAAK,qBAhBA,kDAkBbtG,EAAY,EAAD,GAAQE,GAlBN,0DAAH,sDAsBd,GAAIqB,EAAUC,gBACZ,OAAO,cAAC,IAAD,CAAU0J,GAAG,eAGtB,IAAMtE,EAAalC,EAASmC,OAAS,EAAI,MAAQ,SAC3CK,EAAkBxC,IAAaC,EAAiB,0BAA4B,GAElF,OACE,qBAAKwC,UAAU,yBAAf,SACE,uBAAMA,UAAU,OAAOK,aAAa,KAAKC,SAAUA,EAAUC,OAAO,OAApE,UACE,eAAC,IAAD,CAAMP,UAAU,iBAAiB+D,GAAG,IAApC,UACE,qBAAKX,IAAKY,GAAMhE,UAAU,OAAOiE,IAAI,SACrC,sBAAKjE,UAAU,YAAf,UACE,yCACA,uDAGJ,oBAAIA,UAAU,cAAd,4BACA,sBAAKA,UAAU,mBAAf,UACE,cAAC,KAAD,CAAWC,MAAO,CAAEO,YAAa,YACjC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAK,QACLjF,MAAOyB,EACPyD,UAAQ,EACRC,MAAM,QACNC,QAAQ,WACRC,YAAY,gBACZnC,KAAK,QACLoC,SAAU4C,OAGd,sBAAK5D,UAAU,mBAAf,UACE,cAAC,IAAD,CAAUC,MAAO,CAAEO,YAAa,YAChC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAM5C,EAAe,OAAS,WAC9B6C,UAAQ,EACRlF,MAAO6B,EACPsD,MAAM,WACN/H,MAAOyE,EAASmC,OAAS,GAAKnC,EAASmC,OAAS,EAChDoB,QAAQ,WACRC,YAAY,kBACZnC,KAAK,WACLyB,aAAa,eACbW,SAAU4C,EACVvC,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CAAYC,aAAW,6BAA6BC,QApFtC,kBAAM3D,GAAiBD,IAoFrC,SACGA,EAAe,cAAC,IAAD,IAAqB,cAAC,IAAD,QAI3CkD,WAAY,CAAEW,UAAW,EAAGV,UAAW,UAI5C3D,EAASmC,OAAS,GAAK,cAAC,IAAD,CAAqBkC,UAAW,EAAGrE,SAAUA,IACrE,sBAAKyC,UAAU,mBAAmBC,MAAO,CAAEE,UAAWV,GAAtD,UACE,cAAC,IAAD,CAAUQ,MAAO,CAAEO,YAAa,YAChC,cAACE,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBE,KAAM1C,EAAqB,OAAS,WACpC2C,UAAQ,EACRlF,MAAO8B,EACPqD,MAAM,kBACN/H,MAAOyE,IAAaC,EACpBsD,QAAQ,WACRC,YAAY,uBACZnC,KAAK,iBACLoC,SAAU4C,EACV/B,WAAY9B,EACZsB,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CAAYC,aAAW,6BAA6BC,QA9GhC,kBAAMzD,GAAuBD,IA8GjD,SACGA,EAAqB,cAAC,IAAD,IAAqB,cAAC,IAAD,QAIjDgD,WAAY,CAAEC,UAAW,UAI/B,cAACC,EAAA,EAAD,CAAQnB,UAAU,8BAA8Bc,QAAQ,YAAYM,MAAM,UAAUT,KAAK,SAAzF,qBAGA,cAAC,KAAD,CACEX,UAAU,4BACVkE,SAnJe,yEAoJfC,WAAW,uBACXC,UAAWP,EACXQ,UAxHsB,SAACnL,GAC7BF,QAAQC,IAAIC,GACZH,EAAS,IAAIR,EAAM,+BAAgC,QAAS,OAuHtD+L,aAAc,uBAEhB,oBAAGtE,UAAU,cAAb,sCAC2B,cAAC,IAAD,CAAM+D,GAAG,SAAT,6BCxKpB,SAASgB,KAMtB,OAJApB,qBAAU,WACRf,OACC,IAGD,qBAAK5C,UAAU,yBAAf,SACE,eAACI,EAAA,EAAD,CAAMJ,UAAU,mBAAhB,UACE,0CACA,8FACA,cAAC,IAAD,CAAM+D,GAAG,SAAT,SACE,cAAC5C,EAAA,EAAD,CAAQC,MAAM,UAAUN,QAAQ,YAAhC,0B,cCbK,SAASkE,KAAU,IAAD,EACEpI,qBAAWP,GAApCF,EADuB,EACvBA,OAAQJ,EADe,EACfA,aAChB,OACE,yBAASiE,UAAU,aAAaC,MAAO,CAAEE,UAAU,GAAD,OAAKpE,EAAe,GAApB,OAAlD,SACc,OAAXI,GACCA,EAAOuD,OAAS,GAChBvD,EAAO8I,KAAI,SAACvI,GAAD,OACT,cAAC,KAAD,CAAOsD,UAAU,QAAuBvH,SAAUiE,EAAMjE,SAAxD,SACGiE,EAAMlE,SADqBkE,EAAM/D,SCJ/B,SAASuM,KAAW,IAAD,EACElK,oBAAS,GADX,mBACzBmK,EADyB,KACdC,EADc,KAExBlJ,EAAyBU,qBAAWP,GAApCH,qBACA9B,EAAcwC,qBAAWhC,GAAzBR,UAEFiL,EAAc,WAClBD,GAAa,GACblJ,GAAqB,IAGvByH,qBAAU,WACR,IAAM2B,EAAexC,SAASyC,eAAe,SAG7C,OAFAD,EAAahC,iBAAiB,aAAc+B,GAAa,GACzDnJ,GAAqB,GACd,WACLoJ,EAAaE,oBAAoB,aAAcH,GAAa,MAE7D,IAEH,IAAMhC,EAAa8B,EAAY,QAAU,KAEzC,OACE,cAAC,EAAD,UACE,sBAAKnF,UAAU,WAAWC,MAAO,CAAEwF,OAAQ,SAA3C,UACE,uBACE9M,GAAG,QACHyK,IAAI,mFACJsC,MAAI,EACJC,OAAK,EACLC,UAAQ,EACRC,QAAQ,SAEV,qBAAK7F,UAAU,UAAUC,MAAO,CAAEoD,WAAYA,KAE7CjJ,EAAUC,gBACT,cAAC,IAAD,CAAU0J,GAAG,eAEb,qBAAK/D,UAAU,UAAf,SACGmF,EACC,cAACN,GAAA,EAAD,CAAkB5E,MAAO,CAAE6F,YAAa,YAExC,eAAC,WAAD,WACE,sBAAK9F,UAAU,iBAAf,UACE,yCACA,gGAEF,sBAAKA,UAAU,kBAAf,UACE,cAAC,IAAD,CAAM+D,GAAG,SAAT,SACE,cAAC5C,EAAA,EAAD,CAAQnB,UAAU,eAAec,QAAQ,YAAYM,MAAM,UAA3D,qBAIF,cAAC,IAAD,CAAM2C,GAAG,YAAT,SACE,cAAC5C,EAAA,EAAD,CAAQnB,UAAU,kBAAkBc,QAAQ,YAAYM,MAAM,UAA9D,qC,gGC5DC2E,GACnB,WAA0BhC,EAAmBiC,EAAqBC,GAAa,yBAArDlC,KAAoD,KAAjCiC,OAAiC,KAAZC,QCUrD,SAASC,KAAU,IAAD,EACSlL,oBAAS,GADlB,mBACxBmL,EADwB,KACVC,EADU,OAEDxJ,qBAAWhC,GAAjCR,EAFuB,EAEvBA,UAAWM,EAFY,EAEZA,OAFY,EAGsDkC,qBAAWP,GAAxFP,EAHuB,EAGvBA,eAAgBE,EAHO,EAGPA,gBAAiBE,EAHV,EAGUA,qBAAsBD,EAHhC,EAGgCA,kBAEzDoK,EAAWC,cACXrJ,EAAUC,cACVqJ,EAAaC,iBAAO,MAPK,EASKxL,mBAASqL,EAASI,UATvB,mBASxBC,EATwB,KASZC,EATY,KAWzBC,EAAkB,WACtB3J,EAAQkC,KAAK,UACbzE,KAGFiJ,qBAAU,WACRgD,EAAcN,EAASI,UACG,MAAtBJ,EAASI,SACXvK,GAAqB,GAErBA,GAAqB,KAEtB,CAACmK,EAASI,SAAUvK,IAEvByH,qBAAU,WACR/H,OAAO0H,iBAAiB,UAAU,SAAC5E,GAAD,OAAgB5C,EAAe4C,EAAMC,OAAO9C,kBAGhF,IAAM4J,EAASc,EAAWM,QAAUN,EAAWM,QAAQC,aAAe,EAEtEnD,qBAAU,WACJwC,GACFnK,EAAgByJ,KAEjB,CAACU,EAAcnK,EAAiByJ,IAEnC,IAAMsB,EAAe,CACnB,IAAIhB,GAAW,aAAc,cAC7B,IAAIA,GAAW,WAAY,UAAW,cAAC,KAAD,MAGlCiB,EAAgB,CACpB,IAAIjB,GAAW,aAAc,cAC7B,IAAIA,GAAW,YAAa,YAC5B,IAAIA,GAAW,SAAU,UAGrBkB,EAAgB,CACpB,IAAIlB,GAAW,aAAc,cAC7B,IAAIA,GAAW,aAAc,aAC7B,IAAIA,GAAW,gBAAiB,gBAChC,IAAIA,GAAW,WAAY,UAAW,cAAC,KAAD,MAGlCmB,EAAY,SAACC,GAAD,OAChB,cAAC,WAAD,UACGA,EAAMlC,KAAI,SAACmC,EAAkBC,GAAmB,IACvCtD,EAAaqD,EAAbrD,GAAIiC,EAASoB,EAATpB,KAEN5E,EADSsF,IAAe3C,EACP,kBAAoB,QAC3C,OACE,eAAC,WAAD,WACE,cAACuD,GAAA,EAAD,UACE,cAAC,IAAD,CAAMvD,GAAIA,EAAV,SACE,eAAC5C,EAAA,EAAD,CAAQlB,MAAO,CAAEmB,MAAOA,GAAxB,UACGgG,EAAKnB,KACLmB,EAAKnB,KAAO,cAACsB,GAAA,EAAD,CAAQC,QAAM,EAAd,SAAgBxB,IAAiB,cAAC,WAAD,UAAWA,WAI/D,cAACyB,GAAA,EAAD,CAASC,OAAK,EAACC,YAAY,WAAWC,UAAQ,MATjCP,SAgBjBQ,EACJ,eAAC,WAAD,WACGX,EAAUH,GACX,cAACO,GAAA,EAAD,UACE,eAACnG,EAAA,EAAD,CAAQvC,KAAK,SAAS+C,QAASiF,EAA/B,UACE,cAAC,KAAD,IACA,cAACW,GAAA,EAAD,CAAQC,QAAM,EAAd,4BAMFM,EAAW,cAAC,WAAD,UAAWZ,EAAUF,KAEhCe,EACJ,eAAC,WAAD,WACGb,EAAUD,GACX,cAACK,GAAA,EAAD,UACE,eAACnG,EAAA,EAAD,CAAQvC,KAAK,SAAS+C,QAASiF,EAA/B,UACE,cAAC,KAAD,IACA,cAACW,GAAA,EAAD,CAAQC,QAAM,EAAd,4BAMR7D,qBAAU,WAERyC,GAD0B,CAAC,SAAU,YAAa,qBAChB4B,SAAS3B,EAASI,aACnD,CAACJ,EAASI,WAEb,IAAMwB,EAAkC,MAAtB5B,EAASI,SAAmB,OAAS,KACjDpD,EAAcpH,EAAmG,GAA/E,6EAExC,OACE,cAAC,WAAD,UACGkK,GACC,cAAC+B,GAAA,EAAD,CAAQ1G,SAAS,QAAQJ,MAAM,cAAc+G,IAAK5B,EAAYtG,MAAO,CAAEgI,UAAWA,GAAlF,SACE,eAACG,GAAA,EAAD,CAASpI,UAAU,SAASC,MAAO,CAAEoI,QAAS,EAAGhF,WAAYA,GAA7D,UACE,cAACkE,GAAA,EAAD,CAAQC,QAAM,EAAd,SACE,eAAC,IAAD,CAAMxH,UAAU,iBAAiB+D,GAAG,IAApC,UACE,qBAAKX,IAAKY,GAAMhE,UAAU,OAAOiE,IAAI,SACrC,sBAAKjE,UAAU,YAAf,UACE,yCACA,yDAIN,cAACsH,GAAA,EAAD,CACE7G,MAAM,OACN6H,QAAQ,OACRC,cAAc,MACdC,eAAe,WACfC,WAAW,SACXzI,UAAU,iBACV0I,EAAG,EACHC,EAAG,EARL,SAUGvO,EAAUC,gBAA0C,UAAvBD,EAAUG,SAAuBwN,EAAWF,EAAWC,W,iCCnIpF,SAASc,GAAT,GAAmF,IAA3DC,EAA0D,EAA1DA,aAAcC,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,cAAoC,EAC/D/N,mBAAS6N,GADsD,mBACxFpF,EADwF,KAC9EC,EAD8E,OAE5D9G,qBAAWP,GAAtCN,EAFuF,EAEvFA,aAAchD,EAFyE,EAEzEA,SACdqB,EAAcwC,qBAAWhC,GAAzBR,UAERuJ,qBAAU,WACRD,EAAYmF,KACX,CAACA,IAEJ,IAAMjF,EAAgB,SAAClF,GACrBgF,EAAY,2BAAKD,GAAN,kBAAiB/E,EAAMC,OAAOC,KAAOF,EAAMC,OAAOjD,UAazDsN,EAAuB,WAC3B,OAAIC,GAAaC,MAAMD,EAAUE,WACxB,EAAC,EAAO,sBAEbF,GAAaA,EAAUG,gBAAiB,IAAIC,MAAOD,cAAgB,EAC9D,EAAC,EAAD,sCAAsC,IAAIC,MAAOD,cAAgB,IAEtEH,GAAaA,EAAY,IAAII,KACxB,EAAC,EAAO,qCAGV,EAAC,IAGJC,EAAqB,WACzB,OAAIC,GAAWL,MAAMK,EAAQJ,WACpB,EAAC,EAAO,sBAEbI,GAAWA,EAAUN,EAChB,EAAC,EAAO,sCAGV,EAAC,IAWJ3I,EAAQ,uCAAG,WAAO5B,GAAP,iBAAA/E,EAAA,yDACf+E,EAAMY,iBAED0J,IAAuB,GAHb,yCAINjQ,EAAS,IAAIR,EAAMyQ,IAAuB,GAAI,UAAW,OAJnD,UAMVM,IAAqB,GANX,yCAONvQ,EAAS,IAAIR,EAAM+Q,IAAqB,GAAI,UAAW,OAPjD,UAUV1N,OAAO4N,QAAQ,iCAVL,iDAcT1P,EAAS,CACbN,QAAS,CACP,eAAgB,qBAGdO,EAAOC,KAAKC,UAAUwJ,GAE5BsF,EAAchP,EAAMD,GArBL,4CAAH,sDAwBN2P,EAAkEhG,EAAlEgG,YAAaC,EAAqDjG,EAArDiG,YAAaC,EAAwClG,EAAxCkG,SAAUC,EAA8BnG,EAA9BmG,MAAOX,EAAuBxF,EAAvBwF,UAAWM,EAAY9F,EAAZ8F,QAE9D,OACE,qBAAKvJ,UAAU,eAAeC,MAAO,CAAEE,UAAU,GAAD,OAAKpE,EAAe,GAApB,OAAhD,SAC0B,UAAvB3B,EAAUG,SACT,mEAEA,uBAAMyF,UAAU,OAAOK,aAAa,MAAMC,SAAUA,EAAUC,OAAO,OAArE,UACE,oBAAIP,UAAU,cAAd,SAA6B8I,IAC7B,sBAAK9I,UAAU,WAAf,UACE,cAACU,EAAA,EAAD,CACEC,KAAK,OACLjF,MAAO+N,EACP7I,UAAQ,EACRZ,UAAU,cACVa,MAAM,cACNC,QAAQ,WACRlC,KAAK,cACLoC,SAAU4C,EACV3C,WAAY,CAAEC,UAAW,MAE3B,cAACR,EAAA,EAAD,CACEE,UAAQ,EACRD,KAAK,OACLjF,MAAOkO,EACP5J,UAAU,cACVa,MAAM,QACNC,QAAQ,WACRlC,KAAK,QACLyC,WAAY,CAAEC,aAAc,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,gBAC5BR,SAjGU,SAACtC,GACrB,IAAMkL,EAAQlL,EAAMC,OAAOjD,OAIZ,KAAVkO,GAHc,aAGaC,KAAKD,KAAWA,EAAMlK,QAAU,GAC9DgE,EAAY,2BAAKD,GAAN,IAAgBmG,iBA8FvB,cAAClJ,EAAA,EAAD,CACEC,KAAK,OACLC,UAAQ,EACRlF,MAAOgO,EACP1J,UAAU,cACVa,MAAM,cACNiJ,WAAS,EACTC,KAAM,EACNjR,MAAO4Q,EAAYhK,OAAS,IAAMgK,EAAYhK,OAAS,EACvDmC,WAAY6H,EAAYhK,OAAS,IAAMgK,EAAYhK,OAAS,GAAK,kBACjEoB,QAAQ,WACRlC,KAAK,cACLoC,SAAU4C,EACV3C,WAAY,CAAEW,UAAW,GAAIV,UAAW,OAE1C,cAACR,EAAA,EAAD,CACEC,KAAK,OACLjF,MAAOiO,EACP3J,UAAU,cACVa,MAAM,YACNC,QAAQ,WACRlC,KAAK,WACLoC,SAAU4C,IAGZ,qBAAK5D,UAAU,WAAf,SACE,eAAC,KAAD,CAAyBgK,MAAOC,KAAhC,UACE,cAAC,KAAD,CACErJ,UAAQ,EACRsJ,gBAAc,EACdpJ,QAAQ,SACRqJ,OAAO,aACP3H,OAAO,SACP3B,MAAM,aACNE,YAAY,aACZrF,MAAOuN,EACPjI,SArGY,SAACoJ,GACzB1G,EAAY,2BAAKD,GAAN,IAAgBwF,UAAWmB,MAqG1BC,oBAAqB,CACnB,aAAc,eAEhBvR,OAAQkQ,IAAuB,GAC/BnH,YAAamH,IAAuB,IAAMA,IAAuB,KAEnE,cAAC,KAAD,CACEpI,UAAQ,EACRsJ,gBAAc,EACdpJ,QAAQ,SACRqJ,OAAO,aACP3H,OAAO,SACP3B,MAAM,WACNE,YAAY,aACZrF,MAAO6N,EACPvI,SAjHU,SAACoJ,GACvB1G,EAAY,2BAAKD,GAAN,IAAgB8F,QAASa,MAiHxBC,oBAAqB,CACnB,aAAc,eAEhBvR,OAAQwQ,IAAqB,GAC7BzH,YAAayH,IAAqB,IAAMA,IAAqB,UAInE,cAACnI,EAAA,EAAD,CAAQnB,UAAU,2BAA2Bc,QAAQ,YAAYM,MAAM,UAAUT,KAAK,SAAtF,SACGmI,SCvLE,SAASwB,KACtB,IAQQvR,EAAa6D,qBAAWP,GAAxBtD,SACFkE,EAAUC,cAEV6L,EAAa,uCAAG,WAAOhP,EAAcD,GAArB,SAAAH,EAAA,+EAEZxB,EAAI+B,KAAK,YAAaH,EAAMD,GAFhB,OAGlBf,EAAS,IAAIR,EAAM,iBAAkB,UAAW,MAChD0E,EAAQkC,KAAK,cAJK,gDAMlBtG,EAAY,EAAD,GAAQE,GAND,yDAAH,wDAUnB,OAAO,cAAC6P,GAAD,CAAcC,aArBA,CACnBY,YAAa,GACbC,YAAa,GACbC,SAAU,GACVC,MAAO,GACPX,UAAW,GACXM,QAAS,IAesCR,cAAeA,EAAeD,OAAO,oBCnBxF,IAAM3O,GAA+B,CACnCoQ,UAAW,GACXC,aAAc,KACdC,kBAAmB,GACnBC,qBAAsB,KACtBC,oBAAqB,MAGVC,GAAmB/P,wBAA8BV,IAEjD0Q,GAAoB,SAAC,GAAuB,IAArB9P,EAAoB,EAApBA,SAAoB,EACpBC,mBAASb,GAAaoQ,WADF,mBAC/CA,EAD+C,KACpCC,EADoC,OAEJxP,mBAASb,GAAasQ,mBAFlB,mBAE/CA,EAF+C,KAE5BC,EAF4B,KAStD,OACE,cAACE,GAAiBnP,SAAlB,CACEC,MAAO,CAAE6O,YAAWC,eAAcC,oBAAmBC,uBAAsBC,oBAPnD,WAC1BH,EAAarQ,GAAaoQ,WAC1BG,EAAqBvQ,GAAasQ,qBAIlC,SAGG1P,K,6HClCQ,OAA0B,0CC+B1B,SAAS+P,GAAT,GAA+D,IAAvCC,EAAsC,EAAtCA,SAAU1D,EAA4B,EAA5BA,MAA4B,EACnCrM,oBAAS,GAD0B,mBACpE6B,EADoE,KACtDC,EADsD,KAEnE/D,EAAa6D,qBAAWP,GAAxBtD,SACAqB,EAAcwC,qBAAWhC,GAAzBR,UAHmE,EAI/BwC,qBAAWgO,IAA/CJ,EAJmE,EAInEA,aAAcC,EAJqD,EAIrDA,kBAChBxN,EAAUC,cAERvE,EAAiFoS,EAAjFpS,GAAI+Q,EAA6EqB,EAA7ErB,YAAaD,EAAgEsB,EAAhEtB,YAAaE,EAAmDoB,EAAnDpB,SAAUC,EAAyCmB,EAAzCnB,MAAOoB,EAAkCD,EAAlCC,UAAW/B,EAAuB8B,EAAvB9B,UAAWM,EAAYwB,EAAZxB,QAPF,EAQvCvO,mBAASyP,EAAkBzC,SAASrP,IARG,mBAQpEsS,EARoE,KAQxDC,EARwD,OAS/BlQ,mBAASgQ,GATsB,mBASpEG,EAToE,KASpDC,EAToD,KAWrEC,EAAe,IAAIhC,KAAKJ,GACxBqC,EAAa,IAAIjC,KAAKE,GACtBgC,EAAQ5B,EAASjK,OAASiK,EAAW6B,GAOrCC,EAAqB,uCAAG,kCAAA9R,EAAA,yDACvBS,EAAUC,gBADa,yCAEnByC,GAAgB,IAFG,cAKtBhD,EAAS,CACbN,QAAS,CACP,eAAgB,qBAIdO,EAAOC,KAAKC,UAAU,CAAEyR,WAAY/S,IAXd,kBAcRR,EAAI+B,KAAK,qBAAsBH,EAAMD,GAd7B,OAcpByB,EAdoB,OAepBoQ,EAAmBpQ,EAAIpC,KAAKwS,iBAClCP,EAAkBO,GAClBT,GAAc,GAjBY,kDAmB1BrS,EAAY,EAAD,GAAQE,GAnBO,0DAAH,qDAuBrB6S,EAAuB,uCAAG,8BAAAjS,EAAA,yDACzBS,EAAUC,gBADe,yCAErByC,GAAgB,IAFK,gCAMV3E,EAAI+G,OAAJ,6BAAiCvG,IANvB,OAMtB4C,EANsB,OAOtBoQ,EAAmBpQ,EAAIpC,KAAKwS,iBAClCP,EAAkBO,GAClBT,GAAc,GATc,kDAW5BrS,EAAY,EAAD,GAAQE,GAXS,0DAAH,qDAevB8S,EAAqB,uCAAG,4BAAAlS,EAAA,yDACvBiC,OAAO4N,QAAQ,8DADQ,0EAMRrR,EAAI+G,OAAJ,oBAAwBvG,IANhB,OAMpB4C,EANoB,OAO1BiP,EAAajP,EAAIpC,MAPS,gDAS1BN,EAAY,EAAD,GAAQE,GATO,yDAAH,qDAiBrB+S,GAAiBzE,EAAQ,IAAM,EAAI,4BAA8B,4BAEvE,OACE,eAACjH,EAAA,EAAD,CAAMJ,UAAW8L,GAAjB,UACE,eAACC,GAAA,EAAD,CAAMC,WAAS,EAAC/L,MAAO,CAAEwF,OAAQ,QAAjC,UACE,cAACsG,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGjM,MAAO,CAAEwF,OAAQ,QAAnC,SACE,qBAAKxF,MAAO,CAAEoD,WAAW,OAAD,OAASkI,EAAT,mCAAiD9F,OAAQ,YAEnF,cAACsG,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAGjM,MAAO,CAAEkM,UAAW,SAAU1G,OAAQ,OAAxD,SACE,sBAAKzF,UAAU,qBAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,8BAAI4J,EAAJ,OAEA,sBAAK5J,UAAU,uBAAf,UACE,6BAAKyJ,IACL,oBAAGzJ,UAAU,qBAAb,UA3EG,SAACiJ,EAAiBM,GACjC,IAAM6C,EAAWC,KAAKC,IAAI/C,EAAQJ,UAAYF,EAAUE,WACxD,OAAOkD,KAAKE,KAAKH,EAAQ,OA0EVI,CAASnB,EAAcC,GAD1B,UAC8CD,EAAaoB,mBAAmB,SAD9E,KAC0F,IACvFnB,EAAWmB,mBAAmB,eAIX,UAAvBrS,EAAUG,SACT,sBAAKyF,UAAU,qBAAf,UACE,cAAC0M,GAAA,EAAD,CAASC,MAAM,SAAf,SACE,cAAClL,EAAA,EAAD,CAAYE,QA5BA,WAC5B1E,EAAQkC,KAAR,2BAAiCxG,KA2B2BqH,UAAU,cAAc0B,aAAW,SAA/E,SACE,cAAC,KAAD,CAAY1B,UAAU,oBAG1B,cAAC0M,GAAA,EAAD,CAASC,MAAM,SAAf,SACE,cAAClL,EAAA,EAAD,CAAYE,QAASkK,EAAuB7L,UAAU,cAAc0B,aAAW,SAA/E,SACE,cAAC,KAAD,CAAmB1B,UAAU,uBAKnC,sBAAKA,UAAU,qBAAf,UACGiL,EACC,cAACyB,GAAA,EAAD,CAASC,MAAM,WAAf,SACE,cAAClL,EAAA,EAAD,CAAYE,QAASiK,EAAyB5L,UAAU,cAAc0B,aAAW,WAAjF,SACE,cAAC,KAAD,CAAc1B,UAAU,yBAI5B,cAAC0M,GAAA,EAAD,CAASC,MAAM,SAAf,SACE,cAAClL,EAAA,EAAD,CAAYE,QAAS8J,EAAuBzL,UAAU,cAAc0B,aAAW,SAA/E,SACE,cAAC,KAAD,CAAoB1B,UAAU,kBAKpC,4BAAImL,UAIV,qBAAKnL,UAAU,oBAAf,SAAoC0J,YAI1C,eAAC1H,EAAA,EAAD,CACEC,KAAMpF,EACNqF,QAAS,kBAAMpF,GAAgB,IAC/BqF,kBAAgB,gBAChByK,mBAAiB,oBAJnB,UAME,cAACxK,EAAA,EAAD,CAAazJ,GAAG,gBAAhB,SAAiC,sCACjC,cAAC0J,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAmB3J,GAAG,oBAAtB,oBACS,cAAC,IAAD,CAAMoL,GAAG,SAAT,oBADT,6CAIF,cAACrB,EAAA,EAAD,UACE,cAACvB,EAAA,EAAD,CAAQQ,QAAS,kBAAM7E,GAAgB,IAAQsE,MAAM,UAArD,2BCpKK,SAASyL,KAAgB,IAAD,EACW7R,oBAAS,GADpB,mBAC9B8R,EAD8B,KACZC,EADY,OAEG/R,mBAAS,IAFZ,mBAE9BgS,EAF8B,KAEhBC,EAFgB,KAG7B7S,EAAcwC,qBAAWhC,GAAzBR,UAH6B,EAK6DwC,qBAChGgO,IADML,EAL6B,EAK7BA,UAAWC,EALkB,EAKlBA,aAAcE,EALI,EAKJA,qBAAsBD,EALlB,EAKkBA,kBAAmBE,EALrC,EAKqCA,oBALrC,EAQF/N,qBAAWP,GAAtCN,EAR6B,EAQ7BA,aAAchD,EARe,EAQfA,SAMhBmU,EAAc,uCAAG,4BAAAvT,EAAA,+EAEDxB,EAAImD,IAAI,aAFP,OAEbC,EAFa,OAGnBiP,EAAajP,EAAIpC,MAHE,gDAKnBN,EAAY,EAAD,GAAQE,GALA,yDAAH,qDASdoU,EAAsB,uCAAG,4BAAAxT,EAAA,+EAETxB,EAAImD,IAAI,sBAFC,OAErBC,EAFqB,OAG3BmP,EAAqBnP,EAAIpC,MAHE,gDAK3BN,EAAY,EAAD,GAAQE,GALQ,yDAAH,qDAS5B4K,qBAAU,WACRgH,IACIvQ,EAAUE,SAGd,sBAAC,sBAAAX,EAAA,0DACKS,EAAUC,gBADf,gCAES8S,IAFT,uBAIOD,IAJP,OAKCH,GAAoB,GALrB,0CAAD,KAOC,CAAC3S,IAEJ,IAAMgT,EAAoB7C,EAAU9N,QAAO,SAACsO,GAAD,OAAcA,EAAStB,YAAY4D,cAAcrF,SAASgF,MAErG,OACE,sBAAKhN,UAAU,gBAAgBC,MAAO,CAAEE,UAAU,GAAD,OAAKpE,EAAe,GAApB,OAAjD,UACE,qBAAKkE,MAAO,CAAE6F,YAAa,SAAUrF,MAAO,OAA5C,SACE,cAACC,EAAA,EAAD,CACET,MAAO,CAAEQ,MAAO,QAChBK,QAAQ,WACRpF,MAAOsR,EACPjM,YAAY,oCACZF,MAAM,SACNG,SA/CoB,SAACtC,GAC3BuO,EAAgBvO,EAAMC,OAAOjD,QA+CvB2F,WAAY,CACViM,eACE,cAAC/L,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SACE,cAAC,KAAD,WAMTsL,GAAoB1S,EAAUE,QAC7B,cAACuK,GAAA,EAAD,CAAkB5E,MAAO,CAAE6F,YAAa,YACrCsH,EAAkB1N,OAGrB0N,EACGG,MAAK,SAAC5T,EAAQ6T,GAAT,OAAqB/C,EAAkBzC,SAASwF,EAAE7U,KAAO8R,EAAkBzC,SAASrO,EAAEhB,OAC3FsM,KAAI,SAAC8F,EAAoB1D,GACxB,OAAO,cAACyD,GAAD,CAAcC,SAAUA,EAA4B1D,MAAOA,GAApB0D,EAASpS,OAL3D,oBAAIsH,MAAO,CAAE6F,YAAa,UAA1B,oCC1EO,SAAS2H,KAAkB,IAAD,EACCzS,mBAAS,CAC/CyO,YAAa,GACbC,YAAa,GACbC,SAAU,GACVC,MAAO,GACPX,UAAW,KACXM,QAAS,OAP4B,mBAChCV,EADgC,KAClB6E,EADkB,KAS/B3U,EAAa6D,qBAAWP,GAAxBtD,SACF4U,EAASC,cACTjV,EAAKkV,OAAOF,GAAQhV,GACpBsE,EAAUC,cAEV4Q,EAAW,uCAAG,8BAAAnU,EAAA,+EAEExB,EAAImD,IAAJ,oBAAqB3C,IAFvB,WAEV4C,EAFU,QAGPpC,KAHO,yCAIPJ,EAAS,IAAIR,EAAJ,8BAAiCI,GAAM,UAAW,OAJpD,QAMVoS,EAAWxP,EAAIpC,MACZ8P,UAAY,IAAII,KAAK0B,EAAS9B,WACvC8B,EAASxB,QAAU,IAAIF,KAAK0B,EAASxB,SACrCmE,EAAgB3C,GATA,kDAWhBlS,EAAY,EAAD,GAAQE,GAXH,0DAAH,qDAejB4K,qBAAU,WACRmK,MACC,IAEH,IAAM/E,EAAa,uCAAG,WAAOhP,EAAcD,GAArB,SAAAH,EAAA,+EAEZxB,EAAIiH,IAAJ,oBAAqBzG,GAAMoB,EAAMD,GAFrB,OAGlBf,EAAS,IAAIR,EAAM,oBAAqB,UAAW,MACnD0E,EAAQkC,KAAK,cAJK,gDAMlBtG,EAAY,EAAD,GAAQE,GAND,yDAAH,wDAUnB,OAAO,cAAC6P,GAAD,CAAcC,aAAcA,EAAcE,cAAeA,EAAeD,OAAO,oB,4CC5CzE,SAASiF,KAAa,IAAD,EACCnR,qBAAWP,GAAtCN,EAD0B,EAC1BA,aAAchD,EADY,EACZA,SACdqB,EAAcwC,qBAAWhC,GAAzBR,UAF0B,EAGEwC,qBAAWgO,IAAvCJ,EAH0B,EAG1BA,aAAcD,EAHY,EAGZA,UAGtB5G,qBAAU,WACR,sBAAC,4BAAAhK,EAAA,+EAEqBxB,EAAImD,IAAI,aAF7B,OAESC,EAFT,OAGGiP,EAAajP,EAAIpC,MAHpB,gDAKGN,EAAY,EAAD,GAAQE,GALtB,wDAAD,KAQC,CAACA,EAAUyR,IAEd,IAAMrR,EAAOoR,EACV9N,QAAO,SAACsO,GAAD,OAAqC,IAAvBA,EAASC,aAC9B/F,KAAI,SAAC8F,EAAU1D,GAAX,MAAsB,CACzBoC,YAAasB,EAAStB,YACtBuB,UAAWD,EAASC,UACpBrS,GAAIoS,EAASpS,GACb0O,MAAOA,EAAQ,MAGnB,OACE,qBAAKrH,UAAU,YAAYC,MAAO,CAAEE,UAAU,GAAD,OAAKpE,EAAe,GAApB,OAA7C,SAC0B,UAAvB3B,EAAUG,SACT,mEAEA,eAAC,WAAD,WACE,4CACA,eAAC,KAAD,CAAcyT,MAAOC,KAAaC,SAAUC,cAAe,GAA3D,UACE,cAAC,KAAD,CACEtN,MAAM,WACNZ,MAAO,CAAEmO,WAAY,CAAEC,SAAU,EAAGhG,QAAS,GAAKiG,UAAW,CAAEjG,QAAS,KACxEkG,WAAYpV,EAAK8L,KAAI,SAACuJ,GAAD,OAASA,EAAI/E,iBAEpC,cAAC,KAAD,CACE5I,MAAM,YACNZ,MAAO,CAAEmO,WAAY,CAAEC,SAAU,GAAIhG,QAAS,GAAKiG,UAAW,CAAEjG,QAAS,KACzEoG,eAAa,IAEf,cAAC,KAAD,CACEtV,KAAMA,EACN8G,MAAO,CAAEyO,OAAQ,CAAEL,SAAU,EAAGhG,QAAS,IACzCqG,OAAQvV,EAAK8L,KAAI,SAACuJ,GAAD,oBAAgBA,EAAI7V,OACrCgW,EAAE,QACFC,EAAE,sB,yBC/BD,SAASC,KAAO,IAAD,EACCjS,qBAAWhC,GAAhCF,EADoB,EACpBA,OAAQC,EADY,EACZA,SACR6P,EAAiB5N,qBAAWgO,IAA5BJ,aA8BR,OA5BA7G,qBAAU,WACR,IAAMmL,EAASC,KAAGC,QARhB,sBAQyC,CACzCC,MAAO,CAAE3V,MAAO6B,aAAaK,QAAQ,YAGvCsT,EAAOI,GAAG,gBAAgB,SAAC3E,GACzBC,EAAaD,MAIfuE,EAAOI,GAAG,iBAAiB,SAACpW,GAC1BE,QAAQF,MAAMA,EAAMN,YAGlB2C,aAAa7B,OACfD,EAAS8B,aAAa7B,OAGxBqB,IAGAiB,OAAO0H,iBAAiB,WAAW,WAC5BnI,aAAa7B,OAChBoB,SAGH,IAGD,eAAC,IAAD,WACE,cAACwL,GAAD,IACA,cAAClB,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOmK,OAAK,EAACC,KAAK,IAAI3K,UAAWS,KACjC,cAAC,IAAD,CAAOiK,OAAK,EAACC,KAAK,YAAY3K,UAAWK,KACzC,cAAC,IAAD,CAAOqK,OAAK,EAACC,KAAK,oBAAoB3K,UAAWM,KACjD,cAAC,IAAD,CAAOoK,OAAK,EAACC,KAAK,SAAS3K,UAAWjB,KACtC,cAAC,IAAD,CAAO2L,OAAK,EAACC,KAAK,aAAa3K,UAAWoI,KAC1C,cAACtI,GAAD,CAAc4K,OAAK,EAACC,KAAK,gBAAgB3K,UAAW4K,KACpD,cAAC9K,GAAD,CAAc6K,KAAK,uBAAuB3K,UAAWgJ,KACrD,cAAClJ,GAAD,CAAc4K,OAAK,EAACC,KAAK,WAAW3K,UAAW9H,IAC/C,cAAC4H,GAAD,CAAc4K,OAAK,EAACC,KAAK,aAAa3K,UAAWsJ,W,OC/DzDuB,IAAS3K,OACP,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UACE,cAACkK,GAAD,UAIN/L,SAASyC,eAAe,W","file":"static/js/main.eabc3caa.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst env = process.env.NODE_ENV; // current environment\r\n\r\nexport const app = axios.create({\r\n  baseURL:\r\n    env === 'production'\r\n      ? 'http://3.123.26.182/api/' // production\r\n      : 'http://localhost:3001/api/', // development\r\n});\r\n","import { Color } from '@material-ui/lab';\r\nimport { v4 } from 'uuid';\r\n\r\nexport default class Alert {\r\n  public constructor(\r\n    public message: string | boolean,\r\n    public severity: Color,\r\n    public timeout: number,\r\n    public id: string = v4()\r\n  ) {}\r\n}\r\n","\r\nimport Alert from '../models/Alert';\r\n\r\nexport const handleError = (error: any, addAlert: (alert: Alert) => void) => {\r\n  console.log(error);\r\n  try {\r\n    addAlert(new Alert(error.response.data.message, 'error', 3000));\r\n  } catch (err) {\r\n    console.log(err);\r\n    addAlert(new Alert('Something is wrong with our servers...', 'error', 3000));\r\n  }\r\n};\r\n","import Alert from '../models/Alert';\r\nimport { app } from './axiosConfig';\r\nimport { handleError } from './error';\r\n\r\nexport const setToken = (token: string) => {\r\n  if (token) {\r\n    app.defaults.headers.common['x-auth-token'] = token;\r\n  } else {\r\n    delete app.defaults.headers.common['x-auth-token'];\r\n  }\r\n};\r\n\r\nexport const googleLogin = async (response: any, addAlert: (alert: Alert) => void) => {\r\n  const googleProfile = response.profileObj;\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  const body = JSON.stringify(googleProfile);\r\n\r\n  try {\r\n    return await app.post('users/login', body, config);\r\n  } catch (error) {\r\n    handleError(error, addAlert);\r\n  }\r\n};\r\n","import React, { createContext, useState } from 'react';\r\nimport LoginData from '../models/LoginData';\r\nimport { setToken } from '../utils/auth';\r\nimport { app } from '../utils/axiosConfig';\r\n\r\ninterface AuthStateInterFace {\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n  token: string;\r\n  userType: string;\r\n  user: any;\r\n}\r\n\r\ninterface StateInterface {\r\n  authState: AuthStateInterFace;\r\n  login: (loginData: LoginData) => void;\r\n  logout: () => void;\r\n  loadUser: () => void;\r\n}\r\n\r\nconst initialState: StateInterface = {\r\n  authState: { isAuthenticated: false, loading: true, token: null, userType: null, user: null },\r\n  login: null,\r\n  logout: null,\r\n  loadUser: null,\r\n};\r\n\r\nexport const AuthContext = createContext<StateInterface>(initialState);\r\n\r\nexport const AuthProvider = ({ children }: any) => {\r\n  const [authState, setAuthState] = useState(initialState.authState);\r\n\r\n  const login = async (loginData: LoginData) => {\r\n    const { token, userType } = loginData;\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('userType', userType);\r\n    await loadUser();\r\n  };\r\n\r\n  const logout = () => {\r\n    setAuthState({ isAuthenticated: false, loading: false, token: null, userType: null, user: null });\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userType');\r\n  };\r\n\r\n  const loadUser = async () => {\r\n    if (localStorage.token) {\r\n      setToken(localStorage.token);\r\n    }\r\n    try {\r\n      const res = await app.get('users');\r\n      const user = res.data;\r\n\r\n      setAuthState({\r\n        loading: false,\r\n        isAuthenticated: true,\r\n        token: localStorage.getItem('token'),\r\n        userType: localStorage.getItem('userType'),\r\n        user,\r\n      });\r\n    } catch (error) {\r\n      logout();\r\n    }\r\n  };\r\n\r\n  return <AuthContext.Provider value={{ authState, login, logout, loadUser }}>{children}</AuthContext.Provider>;\r\n};\r\n","import React, { createContext, useState } from 'react';\r\nimport Alert from '../models/Alert';\r\n\r\ninterface StateInterface {\r\n  windowWidth: number;\r\n  setWindowWidth: (newWidth: number) => void;\r\n  navbarHeight: number;\r\n  setNavbarHeight: (newHeight: number) => void;\r\n  transparentNavbar: boolean;\r\n  setTransparentNavbar: (newValue: boolean) => void;\r\n  alerts: Alert[];\r\n  setAlerts: (newAlerts: Alert[]) => void;\r\n  addAlert: (newAlert: Alert) => void;\r\n}\r\n\r\nconst initialState: StateInterface = {\r\n  windowWidth: window.innerWidth,\r\n  setWindowWidth: null,\r\n  navbarHeight: 0,\r\n  setNavbarHeight: null,\r\n  transparentNavbar: false,\r\n  setTransparentNavbar: null,\r\n  alerts: [],\r\n  setAlerts: null,\r\n  addAlert: null,\r\n};\r\n\r\nexport const WindowContext = createContext<StateInterface>(initialState);\r\n\r\nexport const WindowProvider = ({ children }: any) => {\r\n  const [windowWidth, setWindowWidth] = useState(initialState.windowWidth);\r\n  const [navbarHeight, setNavbarHeight] = useState(initialState.navbarHeight);\r\n  const [transparentNavbar, setTransparentNavbar] = useState(initialState.transparentNavbar);\r\n  const [alerts, setAlerts] = useState(initialState.alerts);\r\n\r\n  const addAlert = (newAlert: Alert) => {\r\n    setAlerts([...alerts, newAlert]);\r\n    setTimeout(() => {\r\n      setAlerts((alerts) => alerts.filter((alert) => alert.id !== newAlert.id));\r\n    }, newAlert.timeout);\r\n  };\r\n\r\n  return (\r\n    <WindowContext.Provider\r\n      value={{\r\n        windowWidth,\r\n        setWindowWidth,\r\n        navbarHeight,\r\n        setNavbarHeight,\r\n        transparentNavbar,\r\n        setTransparentNavbar,\r\n        alerts,\r\n        setAlerts,\r\n        addAlert,\r\n      }}\r\n    >\r\n      {children}\r\n    </WindowContext.Provider>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Card,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n} from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { ChangeEvent, FormEvent, Fragment, useContext, useState } from 'react';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport Alert from '../../models/Alert';\r\nimport { handleError } from '../../utils/error';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport PasswordStrengthBar from 'react-password-strength-bar';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nexport default function Account() {\r\n  const { authState, loadUser, logout } = useContext(AuthContext);\r\n  const { navbarHeight } = useContext(WindowContext);\r\n  const { addAlert } = useContext(WindowContext);\r\n\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const history = useHistory();\r\n\r\n  const { email, firstName, lastName, externalId } = authState.user;\r\n\r\n  const [passwordFormData, setPasswordFormData] = useState({\r\n    password: '',\r\n    passwordRepeat: '',\r\n  });\r\n  const [nameFormData, setNameFormData] = useState({\r\n    firstNameForm: firstName || '',\r\n    lastNameForm: lastName || '',\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showPasswordRepeat, setShowPasswordRepeat] = useState(false);\r\n  const [requestName, setRequestName] = useState('');\r\n  const [passwordIncorrect, setPasswordIncorrect] = useState(false);\r\n  const [isDangerDialog, setIsDangerDialog] = useState(false);\r\n  const { password, passwordRepeat } = passwordFormData;\r\n  const { firstNameForm, lastNameForm } = nameFormData;\r\n\r\n  const onShowPasswordClicked = () => setShowPassword(!showPassword);\r\n  const onShowPasswordRepeatClicked = () => setShowPasswordRepeat(!showPasswordRepeat);\r\n\r\n  const onPasswordFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setPasswordFormData({ ...passwordFormData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const onNameFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setNameFormData({ ...nameFormData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const checkPassword = async () => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const body = JSON.stringify({ password: currentPassword });\r\n\r\n    try {\r\n      await app.post('users/confirm-password', body, config);\r\n    } catch (error) {\r\n      console.log(error);\r\n      setPasswordIncorrect(true);\r\n      return addAlert(new Alert('Password is incorrect', 'error', 3000));\r\n    }\r\n\r\n    switch (requestName) {\r\n      case 'name':\r\n        return nameFormRequest();\r\n      case 'password':\r\n        return passwordFormRequest();\r\n      case 'delete':\r\n        return deleteRequest();\r\n    }\r\n  };\r\n\r\n  const deleteAccount = () => {\r\n    clearFieldState();\r\n    setIsDialogOpen(true);\r\n    setIsDangerDialog(true);\r\n    setRequestName('delete');\r\n  };\r\n\r\n  const deleteRequest = async () => {\r\n    try {\r\n      await app.delete('users');\r\n      logout();\r\n      history.push('/');\r\n      addAlert(new Alert('Account Deleted', 'success', 5000));\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const nameFormRequest = async () => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { firstNameForm: firstName, lastNameForm: lastName } = nameFormData;\r\n\r\n    const body = JSON.stringify({ firstName, lastName });\r\n\r\n    try {\r\n      await app.put('users/name', body, config);\r\n      loadUser();\r\n      history.push('/vacations');\r\n      addAlert(new Alert('Name updated!', 'success', 5000));\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n  const passwordFormRequest = async () => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const body = JSON.stringify(passwordFormData);\r\n\r\n    try {\r\n      await app.put('users/password', body, config);\r\n      loadUser();\r\n      history.push('/vacations');\r\n      addAlert(new Alert('Password updated!', 'success', 5000));\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const onNameFormSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n    setRequestName('name');\r\n    clearFieldState();\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const onPasswordFormSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    if (password !== passwordRepeat) {\r\n      return addAlert(new Alert('Passwords do not match!', 'error', 3000));\r\n    }\r\n\r\n    setRequestName('password');\r\n    clearFieldState();\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const clearFieldState = () => {\r\n    setIsDangerDialog(false);\r\n    setPasswordIncorrect(false);\r\n    setCurrentPassword('');\r\n  };\r\n\r\n  const passMargin = password.length > 0 ? '5px' : '1.5rem';\r\n  const dialogHeader = isDangerDialog ? 'PERMANENTLY DELETE ACCOUNT' : 'Password Required';\r\n  const dialogText = isDangerDialog\r\n    ? 'You are about to permanently remove your account! Insert your password to confirm.'\r\n    : 'In order to confirm the changes, please insert your password.';\r\n  const confirmColor = isDangerDialog ? 'secondary' : 'primary';\r\n  const confirmText = isDangerDialog ? 'Delete Account' : 'Confirm';\r\n  const errorHelperText = password !== passwordRepeat ? 'Passwords do not match!' : '';\r\n\r\n  return (\r\n    <div className=\"account\" style={{ marginBottom: '30px', marginTop: `${navbarHeight + 10}px` }}>\r\n      {!externalId ? (\r\n        <Fragment>\r\n          {firstName && lastName ? <h1>{`${firstName} ${lastName}`}</h1> : <h1>{email}</h1>}\r\n\r\n          <form className=\"form\" autoComplete=\"on\" onSubmit={onNameFormSubmit} method=\"post\">\r\n            <h2 className=\"form-header-small\">Add \\ Update Your Name</h2>\r\n            <div className=\"input-field-icon\">\r\n              <AccountCircleIcon style={{ marginRight: '0.5rem' }} />\r\n              <div className=\"form-duo\" style={{ width: '100%' }}>\r\n                <TextField\r\n                  type=\"text\"\r\n                  required\r\n                  value={firstNameForm}\r\n                  label=\"First name\"\r\n                  variant=\"outlined\"\r\n                  placeholder=\"Add your first name\"\r\n                  name=\"firstNameForm\"\r\n                  onChange={onNameFieldChange}\r\n                  inputProps={{ maxLength: 25 }}\r\n                />\r\n                <TextField\r\n                  type=\"text\"\r\n                  required\r\n                  value={lastNameForm}\r\n                  label=\"Last name\"\r\n                  variant=\"outlined\"\r\n                  placeholder=\"Add your last name\"\r\n                  name=\"lastNameForm\"\r\n                  onChange={onNameFieldChange}\r\n                  inputProps={{ maxLength: 25 }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <Button className=\"form-button login-button\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Update Name\r\n            </Button>\r\n          </form>\r\n\r\n          <form className=\"form\" autoComplete=\"on\" onSubmit={onPasswordFormSubmit} method=\"post\">\r\n            <h2 className=\"form-header-small\">Change Your Password</h2>\r\n\r\n            <div className=\"input-field-icon\">\r\n              <LockIcon style={{ marginRight: '0.5rem' }} />\r\n              <TextField\r\n                style={{ width: '100%' }}\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                required\r\n                label=\"New password\"\r\n                variant=\"outlined\"\r\n                autoComplete=\"new-password\"\r\n                placeholder=\"Choose a new password...\"\r\n                name=\"password\"\r\n                error={password.length < 6 && password.length > 0}\r\n                onChange={onPasswordFieldChange}\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton aria-label=\"toggle password visibility\" onClick={onShowPasswordClicked}>\r\n                        {showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                  inputProps: { minLength: 6, maxLength: 30 },\r\n                }}\r\n              />\r\n            </div>\r\n            {password.length > 0 && <PasswordStrengthBar minLength={6} password={password} />}\r\n            <div className=\"input-field-icon\" style={{ marginTop: passMargin }}>\r\n              <LockIcon style={{ marginRight: '0.5rem' }} />\r\n              <TextField\r\n                style={{ width: '100%' }}\r\n                type={showPasswordRepeat ? 'text' : 'password'}\r\n                value={passwordRepeat}\r\n                required\r\n                label=\"Repeat new password\"\r\n                variant=\"outlined\"\r\n                placeholder=\"Repeat your new password\"\r\n                name=\"passwordRepeat\"\r\n                error={password !== passwordRepeat}\r\n                onChange={onPasswordFieldChange}\r\n                helperText={errorHelperText}\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton aria-label=\"toggle password visibility\" onClick={onShowPasswordRepeatClicked}>\r\n                        {showPasswordRepeat ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                  inputProps: { maxLength: 30 },\r\n                }}\r\n              />\r\n            </div>\r\n            <Button className=\"form-button login-button\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Change password\r\n            </Button>\r\n          </form>\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <h1>You Are Logged In Using Google</h1>\r\n          <Card className=\"google-card\">\r\n            <h2>Google Credentials:</h2>\r\n            <h3>Email:</h3>\r\n            <em>{email}</em>\r\n            <h3>Full Name:</h3>\r\n            <em>\r\n              {firstName} {lastName}\r\n            </em>\r\n          </Card>\r\n        </Fragment>\r\n      )}\r\n      <Button\r\n        className=\"form-button delete-account\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        startIcon={<WarningIcon />}\r\n        endIcon={<WarningIcon />}\r\n        onClick={deleteAccount}\r\n      >\r\n        Delete Account\r\n      </Button>\r\n      <Dialog open={isDialogOpen} onClose={() => setIsDialogOpen(false)} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">{dialogHeader}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>{dialogText}</DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            required\r\n            margin=\"dense\"\r\n            value={currentPassword}\r\n            error={passwordIncorrect}\r\n            onChange={(event: ChangeEvent<HTMLInputElement>) => {\r\n              setCurrentPassword(event.target.value);\r\n            }}\r\n            label=\"Current Password\"\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setIsDialogOpen(false)} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={checkPassword} color={confirmColor}>\r\n            {confirmText}\r\n            {isDangerDialog && <WarningIcon style={{ color: 'red' }} />}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","export default class LoginSuccess {\r\n  public constructor(public token?: string, public userType?: string) {}\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo-circle-transparent.74b90e8b.png\";","export default __webpack_public_path__ + \"static/media/landing-background.60d98e08.jpg\";","import background from '../assets/images/landing-background.jpg';\r\n\r\nexport const fadingBackground = () => {\r\n  let bgElement = document.querySelector<HTMLElement>('.island-background-auth');\r\n  bgElement.classList.add('bg-loading');\r\n  let preloaderImg = document.createElement('img');\r\n  preloaderImg.src = background;\r\n\r\n  preloaderImg.addEventListener('load', (event) => {\r\n    bgElement.classList.remove('bg-loading');\r\n    bgElement.classList.add('bg-loaded');\r\n    preloaderImg = null;\r\n  });\r\n};\r\n","import { Button, IconButton, InputAdornment, TextField } from '@material-ui/core';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport React, { ChangeEvent, FormEvent, useContext, useEffect, useState } from 'react';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport LoginData from '../../models/LoginData';\r\nimport logo from '../../assets/images/logo-circle-transparent.png';\r\nimport { fadingBackground } from '../../utils/window';\r\nimport { googleLogin } from '../../utils/auth';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport Alert from '../../models/Alert';\r\nimport { handleError } from '../../utils/error';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nconst GOOGLE_CLIENT_ID = '1333376791-188hppfhtekbpieohomh2j1a2tsrv3ip.apps.googleusercontent.com';\r\n\r\nexport default function Login() {\r\n  const [formData, setFormData] = useState({ email: '', password: '' });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const { authState, login } = useContext(AuthContext);\r\n  const { addAlert } = useContext(WindowContext);\r\n  const { email, password } = formData;\r\n\r\n  // background load effect\r\n  useEffect(() => {\r\n    fadingBackground();\r\n  }, []);\r\n\r\n  const onFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const onShowPasswordClicked = () => setShowPassword(!showPassword);\r\n\r\n  const googleSuccessResponse = async (response: any) => {\r\n    const res = await googleLogin(response, addAlert);\r\n    login(new LoginData(res.data.token, res.data.userType));\r\n  };\r\n\r\n  const googleFailureResponse = (response: any) => {\r\n    console.log(response);\r\n    addAlert(new Alert('Failed to log in with Google', 'error', 3000));\r\n  };\r\n\r\n  const onSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const body = JSON.stringify(formData);\r\n\r\n    try {\r\n      const res = await app.post('users/login', body, config);\r\n      login(new LoginData(res.data.token, res.data.userType));\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  if (authState.isAuthenticated) {\r\n    return <Redirect to=\"/vacations\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"island-background-auth\">\r\n      <form className=\"form\" autoComplete=\"on\" onSubmit={onSubmit} method=\"post\">\r\n        <Link className=\"logo-container\" to=\"/\">\r\n          <img src={logo} className=\"logo\" alt=\"logo\" />\r\n          <div className=\"logo-text\">\r\n            <h2>Chillux</h2>\r\n            <p>Luxury Vacations</p>\r\n          </div>\r\n        </Link>\r\n        <h2 className=\"form-header\">Log In</h2>\r\n        <div className=\"input-field-icon\">\r\n          <EmailIcon style={{ marginRight: '0.5rem' }} />\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            type=\"email\"\r\n            value={email}\r\n            required\r\n            label=\"Email\"\r\n            variant=\"outlined\"\r\n            placeholder=\"Your Email...\"\r\n            name=\"email\"\r\n            onChange={onFieldChange}\r\n          />\r\n        </div>\r\n        <div className=\"input-field-icon\">\r\n          <LockIcon style={{ marginRight: '0.5rem' }} />\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            type={showPassword ? 'text' : 'password'}\r\n            required\r\n            value={password}\r\n            label=\"Password\"\r\n            variant=\"outlined\"\r\n            placeholder=\"Your Password...\"\r\n            name=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={onFieldChange}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton aria-label=\"toggle password visibility\" onClick={onShowPasswordClicked}>\r\n                    {showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n              inputProps: { maxLength: 30 },\r\n            }}\r\n          />\r\n        </div>\r\n        <Button className=\"form-button login-button\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n          Login\r\n        </Button>\r\n        <GoogleLogin\r\n          className=\"form-button google-button\"\r\n          clientId={GOOGLE_CLIENT_ID}\r\n          buttonText=\"Continue with Google\"\r\n          onSuccess={googleSuccessResponse}\r\n          onFailure={googleFailureResponse}\r\n          cookiePolicy={'single_host_origin'}\r\n          // isSignedIn={true}\r\n        />\r\n        <p className=\"form-footer\">\r\n          Not a member? <Link to=\"/register\">Sign up now!</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { CircularProgress } from '@material-ui/core';\r\nimport React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }: any) {\r\n  const { authState } = useContext(AuthContext);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        authState.loading ? (\r\n          <CircularProgress />\r\n        ) : authState.isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","import { Button, IconButton, InputAdornment, TextField } from '@material-ui/core';\r\nimport React, { ChangeEvent, FormEvent, useContext, useEffect, useState } from 'react';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\nimport PasswordStrengthBar from 'react-password-strength-bar';\r\nimport GoogleLogin from 'react-google-login';\r\nimport logo from '../../assets/images/logo-circle-transparent.png';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { fadingBackground } from '../../utils/window';\r\nimport { googleLogin } from '../../utils/auth';\r\nimport LoginData from '../../models/LoginData';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport Alert from '../../models/Alert';\r\nimport { handleError } from '../../utils/error';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nconst GOOGLE_CLIENT_ID = '1333376791-188hppfhtekbpieohomh2j1a2tsrv3ip.apps.googleusercontent.com';\r\n\r\nexport default function Register() {\r\n  const { authState, login } = useContext(AuthContext);\r\n  const { addAlert } = useContext(WindowContext);\r\n\r\n  const [formData, setFormData] = useState({ email: '', password: '', passwordRepeat: '' });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showPasswordRepeat, setShowPasswordRepeat] = useState(false);\r\n\r\n  const history = useHistory();\r\n  const { email, password, passwordRepeat } = formData;\r\n\r\n  // background load effect\r\n  useEffect(() => {\r\n    fadingBackground();\r\n  }, []);\r\n\r\n  const onFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const onShowPasswordClicked = () => setShowPassword(!showPassword);\r\n  const onShowPasswordRepeatClicked = () => setShowPasswordRepeat(!showPasswordRepeat);\r\n\r\n  const googleSuccessResponse = async (response: any) => {\r\n    const res = await googleLogin(response, addAlert);\r\n    login(new LoginData(res.data.token, res.data.userType));\r\n  };\r\n\r\n  const googleFailureResponse = (response: any) => {\r\n    console.log(response);\r\n    addAlert(new Alert('Failed to log in with Google', 'error', 3000));\r\n  };\r\n\r\n  const onSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    if (password !== passwordRepeat) {\r\n      return addAlert(new Alert('Passwords do not match!', 'error', 3000));\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const body = JSON.stringify(formData);\r\n\r\n    try {\r\n      await app.post('users', body, config);\r\n      history.push('/register-success');\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  if (authState.isAuthenticated) {\r\n    return <Redirect to=\"/vacations\" />;\r\n  }\r\n\r\n  const passMargin = password.length > 0 ? '5px' : '1.5rem';\r\n  const errorHelperText = password !== passwordRepeat ? 'Passwords do not match!' : '';\r\n\r\n  return (\r\n    <div className=\"island-background-auth\">\r\n      <form className=\"form\" autoComplete=\"on\" onSubmit={onSubmit} method=\"post\">\r\n        <Link className=\"logo-container\" to=\"/\">\r\n          <img src={logo} className=\"logo\" alt=\"logo\" />\r\n          <div className=\"logo-text\">\r\n            <h2>Chillux</h2>\r\n            <p>Luxury Vacations</p>\r\n          </div>\r\n        </Link>\r\n        <h2 className=\"form-header\">Create Account</h2>\r\n        <div className=\"input-field-icon\">\r\n          <EmailIcon style={{ marginRight: '0.5rem' }} />\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            type=\"email\"\r\n            value={email}\r\n            required\r\n            label=\"Email\"\r\n            variant=\"outlined\"\r\n            placeholder=\"Your Email...\"\r\n            name=\"email\"\r\n            onChange={onFieldChange}\r\n          />\r\n        </div>\r\n        <div className=\"input-field-icon\">\r\n          <LockIcon style={{ marginRight: '0.5rem' }} />\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            type={showPassword ? 'text' : 'password'}\r\n            required\r\n            value={password}\r\n            label=\"Password\"\r\n            error={password.length < 6 && password.length > 0}\r\n            variant=\"outlined\"\r\n            placeholder=\"New Password...\"\r\n            name=\"password\"\r\n            autoComplete=\"new-password\"\r\n            onChange={onFieldChange}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton aria-label=\"toggle password visibility\" onClick={onShowPasswordClicked}>\r\n                    {showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n              inputProps: { minLength: 6, maxLength: 30 },\r\n            }}\r\n          />\r\n        </div>\r\n        {password.length > 0 && <PasswordStrengthBar minLength={6} password={password} />}\r\n        <div className=\"input-field-icon\" style={{ marginTop: passMargin }}>\r\n          <LockIcon style={{ marginRight: '0.5rem' }} />\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            type={showPasswordRepeat ? 'text' : 'password'}\r\n            required\r\n            value={passwordRepeat}\r\n            label=\"Repeat Password\"\r\n            error={password !== passwordRepeat}\r\n            variant=\"outlined\"\r\n            placeholder=\"Repeat your password\"\r\n            name=\"passwordRepeat\"\r\n            onChange={onFieldChange}\r\n            helperText={errorHelperText}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton aria-label=\"toggle password visibility\" onClick={onShowPasswordRepeatClicked}>\r\n                    {showPasswordRepeat ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              ),\r\n              inputProps: { maxLength: 30 },\r\n            }}\r\n          />\r\n        </div>\r\n        <Button className=\"form-button register-button\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n          Sign Up\r\n        </Button>\r\n        <GoogleLogin\r\n          className=\"form-button google-button\"\r\n          clientId={GOOGLE_CLIENT_ID}\r\n          buttonText=\"Continue with Google\"\r\n          onSuccess={googleSuccessResponse}\r\n          onFailure={googleFailureResponse}\r\n          cookiePolicy={'single_host_origin'}\r\n        />\r\n        <p className=\"form-footer\">\r\n          Already have an account? <Link to=\"/login\">Sign in</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { Button, Card } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { fadingBackground } from '../../utils/window';\r\n\r\nexport default function RegisterSuccess() {\r\n  // background load effect\r\n  useEffect(() => {\r\n    fadingBackground();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"island-background-auth\">\r\n      <Card className=\"register-success\">\r\n        <h2>Success!</h2>\r\n        <p>Congratulations, your account has been successfully created. </p>\r\n        <Link to=\"/login\">\r\n          <Button color=\"primary\" variant=\"contained\">\r\n            Login\r\n          </Button>\r\n        </Link>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nexport default function Alerts() {\r\n  const { alerts, navbarHeight } = useContext(WindowContext);\r\n  return (\r\n    <section className=\"alerts-box\" style={{ marginTop: `${navbarHeight + 10}px` }}>\r\n      {alerts !== null &&\r\n        alerts.length > 0 &&\r\n        alerts.map((alert) => (\r\n          <Alert className=\"alert\" key={alert.id} severity={alert.severity}>\r\n            {alert.message}\r\n          </Alert>\r\n        ))}\r\n    </section>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { Button, CircularProgress } from '@material-ui/core';\r\nimport React, { Fragment, useContext, useEffect, useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { WindowContext, WindowProvider } from '../../context/WindowContext';\r\n\r\nexport default function Landing() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { setTransparentNavbar } = useContext(WindowContext);\r\n  const { authState } = useContext(AuthContext);\r\n\r\n  const onVideoLoad = () => {\r\n    setIsLoading(false);\r\n    setTransparentNavbar(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const videoElement = document.getElementById('video');\r\n    videoElement.addEventListener('loadeddata', onVideoLoad, false);\r\n    setTransparentNavbar(false);\r\n    return () => {\r\n      videoElement.removeEventListener('loadeddata', onVideoLoad, false);\r\n    };\r\n  }, []);\r\n\r\n  const background = isLoading ? 'white' : null;\r\n\r\n  return (\r\n    <WindowProvider>\r\n      <div className=\"showcase\" style={{ height: '100vh' }}>\r\n        <video\r\n          id=\"video\"\r\n          src=\"https://drive.google.com/uc?export=download&id=135XjCsDqFeniYO9goOoeexaZERYWvGZW\"\r\n          loop\r\n          muted\r\n          autoPlay\r\n          preload=\"auto\"\r\n        ></video>\r\n        <div className=\"overlay\" style={{ background: background }}></div>\r\n\r\n        {authState.isAuthenticated ? (\r\n          <Redirect to=\"/vacations\" />\r\n        ) : (\r\n          <div className=\"landing\">\r\n            {isLoading ? (\r\n              <CircularProgress style={{ justifySelf: 'center' }} />\r\n            ) : (\r\n              <Fragment>\r\n                <div className=\"landing-header\">\r\n                  <h2>Chillux</h2>\r\n                  <p> Find your perfect vacation. Treat yourself better. Chillux.</p>\r\n                </div>\r\n                <div className=\"landing-buttons\">\r\n                  <Link to=\"/login\">\r\n                    <Button className=\"login-button\" variant=\"contained\" color=\"primary\">\r\n                      Login\r\n                    </Button>\r\n                  </Link>\r\n                  <Link to=\"/register\">\r\n                    <Button className=\"register-button\" variant=\"contained\" color=\"primary\">\r\n                      Register\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </WindowProvider>\r\n  );\r\n}\r\n","export default class NavbarLink {\r\n  public constructor(public to: string, public text: string, public icon?: any) {}\r\n}\r\n","import { AppBar, Box, Button, Toolbar, Divider, Hidden } from '@material-ui/core';\r\nimport React, { Fragment, useContext, useEffect, useRef, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from '../../assets/images/logo-circle-transparent.png';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\r\nimport NavbarLink from '../../models/NavbarLink';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { WindowContext } from '../../context/WindowContext';\r\n\r\nexport default function Navbar() {\r\n  const [isShowNavbar, setIsShowNavbar] = useState(true);\r\n  const { authState, logout } = useContext(AuthContext);\r\n  const { setWindowWidth, setNavbarHeight, setTransparentNavbar, transparentNavbar } = useContext(WindowContext);\r\n\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const elementRef = useRef(null);\r\n\r\n  const [currentTab, setCurrentTab] = useState(location.pathname);\r\n\r\n  const onLogoutClicked = () => {\r\n    history.push('/login');\r\n    logout();\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurrentTab(location.pathname);\r\n    if (location.pathname === '/') {\r\n      setTransparentNavbar(true);\r\n    } else {\r\n      setTransparentNavbar(false);\r\n    }\r\n  }, [location.pathname, setTransparentNavbar]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', (event: any) => setWindowWidth(event.target.innerWidth));\r\n  });\r\n\r\n  const height = elementRef.current ? elementRef.current.clientHeight : 0;\r\n\r\n  useEffect(() => {\r\n    if (isShowNavbar) {\r\n      setNavbarHeight(height);\r\n    }\r\n  }, [isShowNavbar, setNavbarHeight, height]);\r\n\r\n  const userBarLinks = [\r\n    new NavbarLink('/vacations', 'All Offers'),\r\n    new NavbarLink('/account', 'Account', <PersonOutlineIcon />),\r\n  ];\r\n\r\n  const guestBarLinks = [\r\n    new NavbarLink('/vacations', 'All Offers'),\r\n    new NavbarLink('/register', 'Register'),\r\n    new NavbarLink('/login', 'Login'),\r\n  ];\r\n\r\n  const adminBarLinks = [\r\n    new NavbarLink('/vacations', 'All Offers'),\r\n    new NavbarLink('/analytics', 'Analytics'),\r\n    new NavbarLink('/add-vacation', 'Add vacation'),\r\n    new NavbarLink('/account', 'Account', <PersonOutlineIcon />),\r\n  ];\r\n\r\n  const createBar = (links: NavbarLink[]) => (\r\n    <Fragment>\r\n      {links.map((link: NavbarLink, index: number) => {\r\n        const { to, text } = link;\r\n        const active = currentTab === to;\r\n        const color = active ? 'rgb(90, 90, 90)' : 'white';\r\n        return (\r\n          <Fragment key={index}>\r\n            <Box>\r\n              <Link to={to}>\r\n                <Button style={{ color: color }}>\r\n                  {link.icon}\r\n                  {link.icon ? <Hidden smDown>{text}</Hidden> : <Fragment>{text}</Fragment>}\r\n                </Button>\r\n              </Link>\r\n            </Box>\r\n            <Divider light orientation=\"vertical\" flexItem />\r\n          </Fragment>\r\n        );\r\n      })}\r\n    </Fragment>\r\n  );\r\n\r\n  const userBar = (\r\n    <Fragment>\r\n      {createBar(userBarLinks)}\r\n      <Box>\r\n        <Button name=\"logout\" onClick={onLogoutClicked}>\r\n          <ExitToAppIcon />\r\n          <Hidden smDown>Logout</Hidden>\r\n        </Button>\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n\r\n  const guestBar = <Fragment>{createBar(guestBarLinks)}</Fragment>;\r\n\r\n  const adminBar = (\r\n    <Fragment>\r\n      {createBar(adminBarLinks)}\r\n      <Box>\r\n        <Button name=\"logout\" onClick={onLogoutClicked}>\r\n          <ExitToAppIcon />\r\n          <Hidden smDown>Logout</Hidden>\r\n        </Button>\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n\r\n  useEffect(() => {\r\n    const hiddenNavbarLinks = ['/login', '/register', '/register-success'];\r\n    setIsShowNavbar(hiddenNavbarLinks.includes(location.pathname) ? false : true);\r\n  }, [location.pathname]);\r\n\r\n  const boxShadow = location.pathname === '/' ? 'none' : null;\r\n  const background = !transparentNavbar ? 'linear-gradient(to left, rgba(106, 212, 238, 0.85), rgba(2, 52, 75, 0.95))' : '';\r\n\r\n  return (\r\n    <Fragment>\r\n      {isShowNavbar && (\r\n        <AppBar position=\"fixed\" color=\"transparent\" ref={elementRef} style={{ boxShadow: boxShadow }}>\r\n          <Toolbar className=\"navbar\" style={{ padding: 0, background: background }}>\r\n            <Hidden smDown>\r\n              <Link className=\"logo-container\" to=\"/\">\r\n                <img src={logo} className=\"logo\" alt=\"logo\" />\r\n                <div className=\"logo-text\">\r\n                  <h2>Chillux</h2>\r\n                  <p>Luxury Vacations</p>\r\n                </div>\r\n              </Link>\r\n            </Hidden>\r\n            <Box\r\n              width=\"100%\"\r\n              display=\"flex\"\r\n              flexDirection=\"row\"\r\n              justifyContent=\"flex-end\"\r\n              alignItems=\"center\"\r\n              className=\"navbar-content\"\r\n              m={1}\r\n              p={1}\r\n            >\r\n              {authState.isAuthenticated ? (authState.userType === 'ADMIN' ? adminBar : userBar) : guestBar}\r\n            </Box>\r\n          </Toolbar>\r\n        </AppBar>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { Button, InputAdornment, TextField } from '@material-ui/core';\r\nimport React, { ChangeEvent, FormEvent, useContext, useEffect, useState } from 'react';\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport Alert from '../../models/Alert';\r\n\r\ninterface VacationFormProps {\r\n  vacationData: any;\r\n  header: string;\r\n  serverRequest: (body: string, config: object) => void;\r\n}\r\n\r\nexport default function VacationForm({ vacationData, header, serverRequest }: VacationFormProps) {\r\n  const [formData, setFormData] = useState(vacationData);\r\n  const { navbarHeight, addAlert } = useContext(WindowContext);\r\n  const { authState } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    setFormData(vacationData);\r\n  }, [vacationData]);\r\n\r\n  const onFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const onPriceChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const price = event.target.value;\r\n    const onlyDigits = /^[0-9\\b]+$/;\r\n\r\n    // price validation\r\n    if ((price === '' || onlyDigits.test(price)) && price.length <= 5) {\r\n      setFormData({ ...formData, price });\r\n    }\r\n  };\r\n\r\n  const isStartDateValidated = () => {\r\n    if (startDate && isNaN(startDate.getTime())) {\r\n      return [false, 'Invalid date input'];\r\n    }\r\n    if (startDate && startDate.getFullYear() >= new Date().getFullYear() + 6) {\r\n      return [false, `Choose a year earlier than ${new Date().getFullYear() + 6}`];\r\n    }\r\n    if (startDate && startDate < new Date()) {\r\n      return [false, 'Start date cannot be before today'];\r\n    }\r\n\r\n    return [true];\r\n  };\r\n\r\n  const isEndDateValidated = () => {\r\n    if (endDate && isNaN(endDate.getTime())) {\r\n      return [false, 'Invalid date input'];\r\n    }\r\n    if (endDate && endDate < startDate) {\r\n      return [false, 'End date must be before start date'];\r\n    }\r\n\r\n    return [true];\r\n  };\r\n\r\n  const onStartDateChange = (date: Date | null) => {\r\n    setFormData({ ...formData, startDate: date });\r\n  };\r\n\r\n  const onEndDateChange = (date: Date | null) => {\r\n    setFormData({ ...formData, endDate: date });\r\n  };\r\n\r\n  const onSubmit = async (event: FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    if (!isStartDateValidated()[0]) {\r\n      return addAlert(new Alert(isStartDateValidated()[1], 'warning', 3000));\r\n    }\r\n    if (!isEndDateValidated()[0]) {\r\n      return addAlert(new Alert(isEndDateValidated()[1], 'warning', 3000));\r\n    }\r\n\r\n    if (!window.confirm('Do you confirm these changes?')) {\r\n      return;\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    const body = JSON.stringify(formData);\r\n\r\n    serverRequest(body, config);\r\n  };\r\n\r\n  const { destination, description, imageUrl, price, startDate, endDate } = formData;\r\n\r\n  return (\r\n    <div className=\"add-vacation\" style={{ marginTop: `${navbarHeight + 15}px` }}>\r\n      {authState.userType !== 'ADMIN' ? (\r\n        <h2>You are not authorized to do that</h2>\r\n      ) : (\r\n        <form className=\"form\" autoComplete=\"off\" onSubmit={onSubmit} method=\"post\">\r\n          <h2 className=\"form-header\">{header}</h2>\r\n          <div className=\"form-duo\">\r\n            <TextField\r\n              type=\"text\"\r\n              value={destination}\r\n              required\r\n              className=\"input-field\"\r\n              label=\"Destination\"\r\n              variant=\"outlined\"\r\n              name=\"destination\"\r\n              onChange={onFieldChange}\r\n              inputProps={{ maxLength: 20 }}\r\n            />\r\n            <TextField\r\n              required\r\n              type=\"text\"\r\n              value={price}\r\n              className=\"input-field\"\r\n              label=\"Price\"\r\n              variant=\"outlined\"\r\n              name=\"price\"\r\n              InputProps={{ endAdornment: <InputAdornment position=\"end\">$</InputAdornment> }}\r\n              onChange={onPriceChange}\r\n            />\r\n          </div>\r\n          <TextField\r\n            type=\"text\"\r\n            required\r\n            value={description}\r\n            className=\"input-field\"\r\n            label=\"Description\"\r\n            multiline\r\n            rows={8}\r\n            error={description.length < 10 && description.length > 0}\r\n            helperText={description.length < 10 && description.length > 0 && 'Too short (<10)'}\r\n            variant=\"outlined\"\r\n            name=\"description\"\r\n            onChange={onFieldChange}\r\n            inputProps={{ minLength: 10, maxLength: 2000 }}\r\n          />\r\n          <TextField\r\n            type=\"text\"\r\n            value={imageUrl}\r\n            className=\"input-field\"\r\n            label=\"Image URL\"\r\n            variant=\"outlined\"\r\n            name=\"imageUrl\"\r\n            onChange={onFieldChange}\r\n          />\r\n\r\n          <div className=\"form-duo\">\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <KeyboardDatePicker\r\n                required\r\n                disableToolbar\r\n                variant=\"inline\"\r\n                format=\"dd/MM/yyyy\"\r\n                margin=\"normal\"\r\n                label=\"Start date\"\r\n                placeholder=\"dd/mm/yyyy\"\r\n                value={startDate}\r\n                onChange={onStartDateChange}\r\n                KeyboardButtonProps={{\r\n                  'aria-label': 'change date',\r\n                }}\r\n                error={!isStartDateValidated()[0]}\r\n                helperText={!isStartDateValidated()[0] && isStartDateValidated()[1]}\r\n              />\r\n              <KeyboardDatePicker\r\n                required\r\n                disableToolbar\r\n                variant=\"inline\"\r\n                format=\"dd/MM/yyyy\"\r\n                margin=\"normal\"\r\n                label=\"End date\"\r\n                placeholder=\"dd/mm/yyyy\"\r\n                value={endDate}\r\n                onChange={onEndDateChange}\r\n                KeyboardButtonProps={{\r\n                  'aria-label': 'change date',\r\n                }}\r\n                error={!isEndDateValidated()[0]}\r\n                helperText={!isEndDateValidated()[0] && isEndDateValidated()[1]}\r\n              />\r\n            </MuiPickersUtilsProvider>\r\n          </div>\r\n          <Button className=\"form-button login-button\" variant=\"contained\" color=\"primary\" type=\"submit\">\r\n            {header}\r\n          </Button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport Alert from '../../models/Alert';\r\nimport { handleError } from '../../utils/error';\r\nimport { useHistory } from 'react-router-dom';\r\nimport VacationForm from './VacationForm';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nexport default function AddVacation() {\r\n  const vacationData = {\r\n    destination: '',\r\n    description: '',\r\n    imageUrl: '',\r\n    price: '',\r\n    startDate: '',\r\n    endDate: '',\r\n  };\r\n  const { addAlert } = useContext(WindowContext);\r\n  const history = useHistory();\r\n\r\n  const serverRequest = async (body: string, config: object) => {\r\n    try {\r\n      await app.post('vacations', body, config);\r\n      addAlert(new Alert('Vacation added', 'success', 5000));\r\n      history.push('/vacations');\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  return <VacationForm vacationData={vacationData} serverRequest={serverRequest} header=\"Create Vacation\" />;\r\n}\r\n","import React, { createContext, useState } from 'react';\r\nimport { Vacation } from '../models/Vacation';\r\n\r\ninterface StateInterface {\r\n  vacations: Vacation[];\r\n  setVacations: (vacations: Vacation[]) => void;\r\n  followedVacations: number[];\r\n  setFollowedVacations: (followedVacationsId: number[]) => void;\r\n  resetVacationsState: () => void;\r\n}\r\n\r\nconst initialState: StateInterface = {\r\n  vacations: [],\r\n  setVacations: null,\r\n  followedVacations: [],\r\n  setFollowedVacations: null,\r\n  resetVacationsState: null,\r\n};\r\n\r\nexport const VacationsContext = createContext<StateInterface>(initialState);\r\n\r\nexport const VacationsProvider = ({ children }: any) => {\r\n  const [vacations, setVacations] = useState(initialState.vacations);\r\n  const [followedVacations, setFollowedVacations] = useState(initialState.followedVacations);\r\n\r\n  const resetVacationsState = () => {\r\n    setVacations(initialState.vacations);\r\n    setFollowedVacations(initialState.followedVacations);\r\n  };\r\n\r\n  return (\r\n    <VacationsContext.Provider\r\n      value={{ vacations, setVacations, followedVacations, setFollowedVacations, resetVacationsState }}\r\n    >\r\n      {children}\r\n    </VacationsContext.Provider>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo-no-image.7e4c4c46.png\";","import {\r\n  Button,\r\n  Card,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Grid,\r\n  IconButton,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport React, { useContext, useState } from 'react';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Vacation } from '../../models/Vacation';\r\nimport noImage from '../../assets/images/logo-no-image.png';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { VacationsContext } from '../../context/VacationsContext';\r\nimport { handleError } from '../../utils/error';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\ninterface VacationCardProps {\r\n  vacation: Vacation;\r\n  index: number;\r\n}\r\n\r\nexport default function VacationCard({ vacation, index }: VacationCardProps) {\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const { addAlert } = useContext(WindowContext);\r\n  const { authState } = useContext(AuthContext);\r\n  const { setVacations, followedVacations } = useContext(VacationsContext);\r\n  const history = useHistory();\r\n\r\n  const { id, description, destination, imageUrl, price, followers, startDate, endDate } = vacation;\r\n  const [isFollowed, setIsFollowed] = useState(followedVacations.includes(id));\r\n  const [followersState, setFollowersState] = useState(followers);\r\n\r\n  const startDateObj = new Date(startDate);\r\n  const endDateObj = new Date(endDate);\r\n  const image = imageUrl.length ? imageUrl : noImage;\r\n\r\n  const duration = (startDate: Date, endDate: Date): number => {\r\n    const diffTime = Math.abs(endDate.getTime() - startDate.getTime());\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const onFollowButtonClicked = async () => {\r\n    if (!authState.isAuthenticated) {\r\n      return setIsDialogOpen(true);\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const body = JSON.stringify({ vacationId: id });\r\n\r\n    try {\r\n      const res = await app.post('followed-vacations', body, config);\r\n      const updatedFollowers = res.data.updatedFollowers;\r\n      setFollowersState(updatedFollowers);\r\n      setIsFollowed(true);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const onUnfollowButtonClicked = async () => {\r\n    if (!authState.isAuthenticated) {\r\n      return setIsDialogOpen(true);\r\n    }\r\n\r\n    try {\r\n      const res = await app.delete(`followed-vacations/${id}`);\r\n      const updatedFollowers = res.data.updatedFollowers;\r\n      setFollowersState(updatedFollowers);\r\n      setIsFollowed(false);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const onDeleteButtonClicked = async () => {\r\n    if (!window.confirm('Are you sure you want to permanently remove this vacation?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await app.delete(`vacations/${id}`);\r\n      setVacations(res.data);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const onModifyButtonClicked = () => {\r\n    history.push(`/modify-vacation/${id}`);\r\n  };\r\n\r\n  const animationClass = index % 2 === 0 ? 'vacation-card enter-right' : ' vacation-card enter-left';\r\n\r\n  return (\r\n    <Card className={animationClass}>\r\n      <Grid container style={{ height: '100%' }}>\r\n        <Grid item xs={5} style={{ height: '100%' }}>\r\n          <div style={{ background: `url(${image}) no-repeat center center/cover`, height: '100%' }}></div>\r\n        </Grid>\r\n        <Grid item xs={7} style={{ alignSelf: 'center', height: '90%' }}>\r\n          <div className=\"vacation-card-text\">\r\n            <div className=\"vacation-card-top\">\r\n              <p>{price}$</p>\r\n\r\n              <div className=\"vacation-card-header\">\r\n                <h2>{destination}</h2>\r\n                <p className=\"vacation-card-date\">\r\n                  {duration(startDateObj, endDateObj)} days, {startDateObj.toLocaleDateString('en-GB')} -{' '}\r\n                  {endDateObj.toLocaleDateString('en-GB')}\r\n                </p>\r\n              </div>\r\n\r\n              {authState.userType === 'ADMIN' ? (\r\n                <div className=\"vacation-card-star\">\r\n                  <Tooltip title=\"Modify\">\r\n                    <IconButton onClick={onModifyButtonClicked} className=\"star-button\" aria-label=\"modify\">\r\n                      <CreateIcon className=\"modify-icon\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Delete\">\r\n                    <IconButton onClick={onDeleteButtonClicked} className=\"star-button\" aria-label=\"delete\">\r\n                      <DeleteOutlineIcon className=\"delete-icon\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              ) : (\r\n                <div className=\"vacation-card-star\">\r\n                  {isFollowed ? (\r\n                    <Tooltip title=\"Unfollow\">\r\n                      <IconButton onClick={onUnfollowButtonClicked} className=\"star-button\" aria-label=\"unfollow\">\r\n                        <FavoriteIcon className=\"star-icon-active\" />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  ) : (\r\n                    <Tooltip title=\"follow\">\r\n                      <IconButton onClick={onFollowButtonClicked} className=\"star-button\" aria-label=\"follow\">\r\n                        <FavoriteBorderIcon className=\"star-icon\" />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n\r\n                  <p>{followersState}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"vacation-card-mid\">{description}</div>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Dialog\r\n        open={isDialogOpen}\r\n        onClose={() => setIsDialogOpen(false)}\r\n        aria-labelledby=\"not-logged-in\"\r\n        aria-describedby=\"must-be-logged-in\"\r\n      >\r\n        <DialogTitle id=\"not-logged-in\">{'You must be logged in to do that.'}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"must-be-logged-in\">\r\n            Please <Link to=\"/login\">log in</Link> to get the best experience possible!\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setIsDialogOpen(false)} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Card>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { CircularProgress, InputAdornment, TextField } from '@material-ui/core';\r\nimport React, { ChangeEvent, useContext, useEffect, useState } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { VacationsContext } from '../../context/VacationsContext';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { Vacation } from '../../models/Vacation';\r\nimport { handleError } from '../../utils/error';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport VacationCard from './VacationCard';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nexport default function AllVacations() {\r\n  const [loadingVacations, setLoadingVacations] = useState(true);\r\n  const [searchString, setSearchString] = useState('');\r\n  const { authState } = useContext(AuthContext);\r\n\r\n  const { vacations, setVacations, setFollowedVacations, followedVacations, resetVacationsState } = useContext(\r\n    VacationsContext\r\n  );\r\n  const { navbarHeight, addAlert } = useContext(WindowContext);\r\n\r\n  const onSearchFieldChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setSearchString(event.target.value);\r\n  };\r\n\r\n  const fetchVacations = async () => {\r\n    try {\r\n      const res = await app.get('vacations');\r\n      setVacations(res.data);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  const fetchFollowedVacations = async () => {\r\n    try {\r\n      const res = await app.get('followed-vacations');\r\n      setFollowedVacations(res.data);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    resetVacationsState();\r\n    if (authState.loading) {\r\n      return;\r\n    }\r\n    (async () => {\r\n      if (authState.isAuthenticated) {\r\n        await fetchFollowedVacations();\r\n      }\r\n      await fetchVacations();\r\n      setLoadingVacations(false);\r\n    })();\r\n  }, [authState]);\r\n\r\n  const filteredVacations = vacations.filter((vacation) => vacation.destination.toLowerCase().includes(searchString));\r\n\r\n  return (\r\n    <div className=\"all-vacations\" style={{ marginTop: `${navbarHeight + 15}px` }}>\r\n      <div style={{ justifySelf: 'center', width: '80%' }}>\r\n        <TextField\r\n          style={{ width: '100%' }}\r\n          variant=\"outlined\"\r\n          value={searchString}\r\n          placeholder=\"Find a vacation by destination...\"\r\n          label=\"Search\"\r\n          onChange={onSearchFieldChange}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </div>\r\n      {loadingVacations || authState.loading ? (\r\n        <CircularProgress style={{ justifySelf: 'center' }} />\r\n      ) : !filteredVacations.length ? (\r\n        <h1 style={{ justifySelf: 'center' }}>No Vacations Found!</h1>\r\n      ) : (\r\n        filteredVacations\r\n          .sort((a: any, b: any) => +followedVacations.includes(b.id) - +followedVacations.includes(a.id))\r\n          .map((vacation: Vacation, index: number) => {\r\n            return <VacationCard vacation={vacation} key={vacation.id} index={index} />;\r\n          })\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport Alert from '../../models/Alert';\r\nimport { handleError } from '../../utils/error';\r\nimport VacationForm from './VacationForm';\r\nimport { app } from '../../utils/axiosConfig';\r\n\r\nexport default function ModifyVacation() {\r\n  const [vacationData, setVacationData] = useState({\r\n    destination: '',\r\n    description: '',\r\n    imageUrl: '',\r\n    price: '',\r\n    startDate: null,\r\n    endDate: null,\r\n  });\r\n  const { addAlert } = useContext(WindowContext);\r\n  const params = useParams();\r\n  const id = Object(params).id;\r\n  const history = useHistory();\r\n\r\n  const getVacation = async () => {\r\n    try {\r\n      const res = await app.get(`vacations/${id}`);\r\n      if (!res.data) {\r\n        return addAlert(new Alert(`No vacation with id ${id}`, 'warning', 3000));\r\n      }\r\n      const vacation = res.data;\r\n      vacation.startDate = new Date(vacation.startDate);\r\n      vacation.endDate = new Date(vacation.endDate);\r\n      setVacationData(vacation);\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getVacation();\r\n  }, []);\r\n\r\n  const serverRequest = async (body: string, config: object) => {\r\n    try {\r\n      await app.put(`vacations/${id}`, body, config);\r\n      addAlert(new Alert('Vacation modified', 'success', 5000));\r\n      history.push('/vacations');\r\n    } catch (error) {\r\n      handleError(error, addAlert);\r\n    }\r\n  };\r\n\r\n  return <VacationForm vacationData={vacationData} serverRequest={serverRequest} header=\"Modify Vacation\" />;\r\n}\r\n","import React, { Fragment, useContext, useEffect } from 'react';\r\nimport { VictoryBar, VictoryChart, VictoryAxis, VictoryTheme } from 'victory';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { VacationsContext } from '../../context/VacationsContext';\r\nimport { WindowContext } from '../../context/WindowContext';\r\nimport { app } from '../../utils/axiosConfig';\r\nimport { handleError } from '../../utils/error';\r\n\r\nexport default function Analytics() {\r\n  const { navbarHeight, addAlert } = useContext(WindowContext);\r\n  const { authState } = useContext(AuthContext);\r\n  const { setVacations, vacations } = useContext(VacationsContext);\r\n\r\n  // Fetch vacations from server\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await app.get('vacations');\r\n        setVacations(res.data);\r\n      } catch (error) {\r\n        handleError(error, addAlert);\r\n      }\r\n    })();\r\n  }, [addAlert, setVacations]);\r\n\r\n  const data = vacations\r\n    .filter((vacation) => vacation.followers !== 0)\r\n    .map((vacation, index) => ({\r\n      destination: vacation.destination,\r\n      followers: vacation.followers,\r\n      id: vacation.id,\r\n      index: index + 1,\r\n    }));\r\n\r\n  return (\r\n    <div className=\"analytics\" style={{ marginTop: `${navbarHeight + 15}px` }}>\r\n      {authState.userType !== 'ADMIN' ? (\r\n        <h1>You are not authorized to do that</h1>\r\n      ) : (\r\n        <Fragment>\r\n          <h2>Analytics:</h2>\r\n          <VictoryChart theme={VictoryTheme.material} domainPadding={20}>\r\n            <VictoryAxis\r\n              label=\"Vacation\"\r\n              style={{ tickLabels: { fontSize: 8, padding: 5 }, axisLabel: { padding: 25 } }}\r\n              tickFormat={data.map((key) => key.destination)}\r\n            />\r\n            <VictoryAxis\r\n              label=\"Followers\"\r\n              style={{ tickLabels: { fontSize: 10, padding: 5 }, axisLabel: { padding: 30 } }}\r\n              dependentAxis\r\n            />\r\n            <VictoryBar\r\n              data={data}\r\n              style={{ labels: { fontSize: 8, padding: 2 } }}\r\n              labels={data.map((key) => `ID: ${key.id}`)}\r\n              x=\"index\"\r\n              y=\"followers\"\r\n            />\r\n          </VictoryChart>\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useContext, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Account from './components/auth/Account';\r\nimport Login from './components/auth/Login';\r\nimport PrivateRoute from './components/auth/PrivateRoute';\r\nimport Register from './components/auth/Register';\r\nimport RegisterSuccess from './components/auth/RegisterSuccess';\r\nimport Alerts from './components/layout/Alerts';\r\nimport Landing from './components/layout/Landing';\r\nimport Navbar from './components/layout/Navbar';\r\nimport addVacation from './components/admin/AddVacation';\r\nimport AllVacations from './components/vacations/AllVacations';\r\nimport ModifyVacation from './components/admin/ModifyVacation';\r\nimport { AuthContext } from './context/AuthContext';\r\nimport { setToken } from './utils/auth';\r\nimport Analytics from './components/admin/Analytics';\r\nimport io from 'socket.io-client';\r\nimport { VacationsContext } from './context/VacationsContext';\r\nimport { Vacation } from './models/Vacation';\r\n\r\nconst SOCKET_ENDPOINT =\r\n  process.env.NODE_ENV === 'production'\r\n    ? 'http://3.123.26.182'\r\n    : 'http://localhost:3001';\r\n\r\nexport default function App() {\r\n  const { logout, loadUser } = useContext(AuthContext);\r\n  const { setVacations } = useContext(VacationsContext);\r\n\r\n  useEffect(() => {\r\n    const socket = io.connect(SOCKET_ENDPOINT, {\r\n      query: { token: localStorage.getItem('token') },\r\n    });\r\n\r\n    socket.on('new-vacation', (vacations: Vacation[]) => {\r\n      setVacations(vacations);\r\n    });\r\n\r\n    // client-side\r\n    socket.on('connect_error', (error: any) => {\r\n      console.error(error.message);\r\n    });\r\n\r\n    if (localStorage.token) {\r\n      setToken(localStorage.token);\r\n    }\r\n\r\n    loadUser();\r\n\r\n    // log user out from all tabs if they log out in one tab\r\n    window.addEventListener('storage', () => {\r\n      if (!localStorage.token) {\r\n        logout();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <Navbar />\r\n      <Alerts />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Landing} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/register-success\" component={RegisterSuccess} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/vacations\" component={AllVacations} />\r\n        <PrivateRoute exact path=\"/add-vacation\" component={addVacation} />\r\n        <PrivateRoute path=\"/modify-vacation/:id\" component={ModifyVacation} />\r\n        <PrivateRoute exact path=\"/account\" component={Account} />\r\n        <PrivateRoute exact path=\"/analytics\" component={Analytics} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './context/AuthContext';\r\nimport { VacationsProvider } from './context/VacationsContext';\r\nimport { WindowProvider } from './context/WindowContext';\r\nimport './dist/css/style.min.css';\r\n\r\nReactDOM.render(\r\n  <AuthProvider>\r\n    <WindowProvider>\r\n      <VacationsProvider>\r\n        <App />\r\n      </VacationsProvider>\r\n    </WindowProvider>\r\n  </AuthProvider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}